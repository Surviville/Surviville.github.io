(function(){var e={627:function(e,t,n){"use strict";var a=n(9242),s=n(3396),i=n(7139);const r=(0,s.Uk)("Mint"),o=(0,s.Uk)(" | "),l=(0,s.Uk)("My NFTs"),d=(0,s.Uk)(" | "),u=(0,s.Uk)("Explore Collection"),c=(0,s.Uk)(" | "),p=(0,s.Uk)("Staking and Leveling Info"),h=(0,s.Uk)(" | "),w=(0,s.Uk)("SVC Tokenomics"),y=(0,s.Uk)(" | "),m={key:0,class:"ri-arrow-down-s-line"},k={key:1,class:"ri-arrow-up-s-line"},f={key:0,class:"card mb-4"},g={class:"col-xxl-12 col-xl-12 col-lg-12 col-md-12 col-sm-12"},b={class:"card-body"},v=["href"],T=["href"],_=["href"],M=(0,s._)("img",{src:"images/metamask-icon-32.png"},null,-1),C=(0,s.Uk)("Add Surviville Coin (SVC) to Metamask"),x=[M,C],P={key:1};function N(e,t,n,a,M,C){const N=(0,s.up)("router-link"),S=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",null,[(0,s.Wm)(N,{to:"/"},{default:(0,s.w5)((()=>[r])),_:1}),o,(0,s.Wm)(N,{to:"/my-reapers"},{default:(0,s.w5)((()=>[l])),_:1}),d,(0,s.Wm)(N,{to:"/all-reapers"},{default:(0,s.w5)((()=>[u])),_:1}),c,(0,s.Wm)(N,{to:"/info"},{default:(0,s.w5)((()=>[p])),_:1}),h,(0,s.Wm)(N,{to:"/tokenomics"},{default:(0,s.w5)((()=>[w])),_:1}),y,null!==M.stakersAddressShort?((0,s.wg)(),(0,s.iD)("a",{key:0,onClick:t[0]||(t[0]=e=>M.expandWalletAddress=!M.expandWalletAddress)},[(0,s.Uk)((0,i.zw)(M.stakersAddressShort)+" ",1),!1===M.expandWalletAddress?((0,s.wg)(),(0,s.iD)("i",m)):((0,s.wg)(),(0,s.iD)("i",k))])):((0,s.wg)(),(0,s.iD)("a",{key:1,onClick:t[1]||(t[1]=e=>C.loginMM())}," Login "))]),M.expandWalletAddress?((0,s.wg)(),(0,s.iD)("div",f,[(0,s._)("div",g,[(0,s._)("div",b,[(0,s._)("a",{class:"dropdown-item",onClick:t[2]||(t[2]=e=>M.expandWalletAddress=!1),href:"https://oasis.cash/collection/"+M.reaperAddress,target:"_blank"}," Buy or Sell Reaperville NFTs on Oasis ",8,v),(0,s._)("a",{class:"dropdown-item",onClick:t[3]||(t[3]=e=>M.expandWalletAddress=!1),href:"https://app.mistswap.fi/swap?inputCurrency=BCH&outputCurrency=0xE7B1076d0853a7aAa6FbB477886726ed03C6Fffd",target:"_blank"}," Trade SVC on MistSwap "),(0,s._)("a",{class:"dropdown-item",onClick:t[4]||(t[4]=e=>M.expandWalletAddress=!1),href:"https://www.smartscan.cash/address/"+M.reaperAddress,target:"_blank"}," Inspect Reaperville Contract Activity ",8,T),(0,s._)("a",{class:"dropdown-item",onClick:t[5]||(t[5]=e=>M.expandWalletAddress=!1),href:"https://www.smartscan.cash/address/"+M.rewardTokenAddress,target:"_blank"}," Inspect SVC Contract Activity ",8,_),(0,s._)("span",{onClick:t[6]||(t[6]=e=>{C.addRewardTokenToMM,M.expandWalletAddress=!1}),class:"btn btn-outline-secondary btn-sm"},x)])])])):(0,s.kq)("",!0),M.wrongNetwork?((0,s.wg)(),(0,s.iD)("h2",P,[(0,s._)("strong",null,"Please switch the network to "+(0,i.zw)(M.netName)+".",1)])):(0,s.kq)("",!0),(0,s.Wm)(S)],64)}var S=n(6482),A=n(2956),U={data(){return{stakersAddressShort:null,signer:null,provider:null,expandWalletAddress:!1,reaperAddress:window.ReaperAddress,rewardTokenAddress:window.RewardTokenAddress,netName:window.netName,wrongNetwork:!1}},mounted:function(){this.provider=new A.Q(window.ethereum,"any"),this.provider.getNetwork().then((e=>{e.chainId!==window.netId&&(this.wrongNetwork=!0,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:S.Dv(window.netId)}]}).catch((e=>{4902===e.code&&window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainName:window.netName,chainId:S.Dv(window.netId),nativeCurrency:{name:"BCH",decimals:18,symbol:"BCH"},rpcUrls:[window.rpcServer],blockExplorerUrls:["https://smartscan.cash/"]}]})})))})),this.provider.on("network",((e,t)=>{t&&window.location.reload()})),this.signer=this.provider.getSigner(),this.signer.getAddress().then((e=>{this.stakersAddressShort=e.substring(0,4)+"..."+e.substring(e.length-4,e.length)}))},methods:{loginMM:function(){window.location.reload()},addRewardTokenToMM:function(){window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:window.RewardTokenAddress,symbol:"SVC",decimals:18}}})}}},R=n(89);const I=(0,R.Z)(U,[["render",N]]);var F=I;const B={class:"content-body"},L={class:"container"},D={class:"col-xxl-12"},H=(0,s._)("p",null,[(0,s.Uk)("SVC Total max. supply: "),(0,s._)("strong",null,"210 million")],-1),E=(0,s._)("h2",null,"Reaperville Staking Statistics",-1),z=(0,s._)("h4",{class:"mt-4"},"Earnable reward tokens:",-1),O=(0,s._)("ul",null,[(0,s._)("li",null,[(0,s._)("strong",null,"5 million in total for Reaperville")]),(0,s._)("li",null,[(0,s._)("p",null,"1 million in first year")]),(0,s._)("li",null,[(0,s._)("p",null,"2.5 million in first 3 years")])],-1),V={class:"mt-4"},W=(0,s.Uk)(" Total staked power: "),Y=(0,s.Uk)(" Base staking power: "),j=(0,s._)("p",null,"Stake and upgrade add 1% to base staking power",-1),q=(0,s._)("p",null,"Unstake adds 5% to base staking power",-1),X=(0,s._)("p",null,"Emergency unstake adds 0% to base staking power",-1),Z=(0,s.Uk)(" Reward tokens minted: "),Q=(0,s.Uk)(" Reaperville total emission rate: "),$=(0,s._)("hr",{class:"mt-4 mb-4"},null,-1),J=(0,s._)("h1",{class:"mb-0 mt-4"},"Everything below is ADMIN ONLY",-1),K={key:0,class:"mt-0 mb-4"},G={key:1,class:"mt-0 mb-4"},ee=(0,s._)("hr",{class:"mt-4 mb-4"},null,-1),te=(0,s._)("h2",null,"Reward Token SVC",-1),ne=["disabled"],ae=(0,s._)("hr",null,null,-1),se=(0,s._)("h2",{class:"mb-0"},"Card Contract",-1),ie=(0,s.Uk)(" Card contract can still mint "),re=(0,s.Uk)(" SVC = "),oe=(0,s.Uk)(" M SVC "),le=["disabled"],de=(0,s._)("br",null,null,-1),ue=(0,s._)("h2",{class:"mb-0"},"Reaperville Contract",-1),ce=(0,s.Uk)(" Reaperville contract can still mint "),pe=(0,s.Uk)(" SVC = "),he=(0,s.Uk)(" M SVC "),we=["disabled"],ye=(0,s._)("br",null,null,-1),me=(0,s._)("h4",null,"Reaper Contract Balances",-1),ke=["disabled"],fe=(0,s._)("br",null,null,-1),ge=(0,s._)("h4",null,"Reaper Mint Price",-1),be=["disabled"],ve=(0,s._)("br",null,null,-1),Te=(0,s._)("h2",{class:"mb-0"},"Pause Reaper Mint",-1),_e=["disabled"],Me=(0,s.Uk)("   "),Ce=["disabled"],xe=(0,s._)("h2",{class:"mb-0"},"Pause Reaper Staking",-1),Pe=["disabled"],Ne=(0,s.Uk)("   "),Se=["disabled"];function Ae(e,t,n,r,o,l){return(0,s.wg)(),(0,s.iD)("div",B,[(0,s._)("div",L,[(0,s._)("div",D,[H,(0,s._)("div",null,[E,z,O,(0,s._)("h4",V,[(0,s._)("p",null,[W,(0,s._)("strong",null,(0,i.zw)(o.totalStakedPower),1)]),(0,s._)("p",null,[Y,(0,s._)("strong",null,(0,i.zw)(o.baseStakingPower)+" == "+(0,i.zw)(Math.round(o.baseStakingPower/o.totalStakedPower*1e4)/100)+"%",1)])]),j,q,X,(0,s._)("h4",null,[(0,s._)("p",null,[Z,(0,s._)("strong",null,(0,i.zw)(Math.round((5*10**24-Number(o.rewardTokenMintAllowance4Reaper))/10**18))+" SVC",1)]),(0,s._)("p",null,[Q,(0,s._)("strong",null,(0,i.zw)(o.rewardTokenEmissionPerHour)+" SVC / hour @100% payout",1)]),(0,s._)("p",null," = "+(0,i.zw)(Math.round(24*o.rewardTokenEmissionPerHour*365/1e3)/1e3)+" million SVC / year ",1)]),$,J,o.isAdmin?((0,s.wg)(),(0,s.iD)("h2",G,"(YOU ARE THE ADMIN)")):((0,s.wg)(),(0,s.iD)("h2",K," (You are not logged into the admin wallet) ")),ee,te,(0,s.wy)((0,s._)("input",{id:"tokensToMint",type:"text",class:"form-control mx-auto","onUpdate:modelValue":t[0]||(t[0]=e=>o.rewardTokenMintAllowance4NewMinter=e)},null,512),[[a.nr,o.rewardTokenMintAllowance4NewMinter]]),(0,s.wy)((0,s._)("input",{id:"addressTo",type:"text",class:"form-control mx-auto","onUpdate:modelValue":t[1]||(t[1]=e=>o.addressTo=e)},null,512),[[a.nr,o.addressTo]]),(0,s._)("button",{class:"btn btn-danger",disabled:!o.isAdmin,onClick:t[2]||(t[2]=e=>l.registerAddressAsMinter(o.addressTo,o.rewardTokenMintAllowance4NewMinter))}," Register "+(0,i.zw)(o.addressTo)+" as minter with allowance "+(0,i.zw)(Math.round(o.rewardTokenMintAllowance4NewMinter/10**15)/1e3)+" SVC ",9,ne),(0,s._)("h6",null,(0,i.zw)(o.feedbackMessage),1),ae,se,(0,s._)("div",null,[ie,(0,s._)("strong",null,(0,i.zw)(Math.round(o.rewardTokenMintAllowance4Cards/10**18)),1),re,(0,s._)("strong",null,(0,i.zw)(Math.round(o.rewardTokenMintAllowance4Cards/10**21)/1e3),1),oe]),(0,s.wy)((0,s._)("input",{id:"rewardTokenMintAllowance4Cards",type:"text",class:"form-control mx-auto","onUpdate:modelValue":t[3]||(t[3]=e=>o.rewardTokenMintAllowance4Cards=e)},null,512),[[a.nr,o.rewardTokenMintAllowance4Cards]]),(0,s._)("div",null,[(0,s._)("button",{class:"btn btn-success",disabled:!o.isAdmin,type:"button",onClick:t[4]||(t[4]=e=>l.setNewMintAllowance("cards",o.rewardTokenMintAllowance4Cards))}," Update Card's mint allowance ",8,le)]),de,ue,(0,s._)("div",null,[ce,(0,s._)("strong",null,(0,i.zw)(Math.round(o.rewardTokenMintAllowance4Reaper/10**18)),1),pe,(0,s._)("strong",null,(0,i.zw)(Math.round(o.rewardTokenMintAllowance4Reaper/10**21)/1e3),1),he]),(0,s.wy)((0,s._)("input",{id:"rewardTokenMintAllowance4Reaper",type:"text",class:"form-control mx-auto","onUpdate:modelValue":t[5]||(t[5]=e=>o.rewardTokenMintAllowance4Reaper=e)},null,512),[[a.nr,o.rewardTokenMintAllowance4Reaper]]),(0,s._)("div",null,[(0,s._)("button",{class:"btn btn-success",disabled:!o.isAdmin,type:"button",onClick:t[6]||(t[6]=e=>l.setNewMintAllowance("reaper",o.rewardTokenMintAllowance4Reaper))}," Update Reaper's mint allowance ",8,we)]),ye,me,(0,s._)("p",null,(0,i.zw)(Math.round(o.reaperBchBalance/10**15)/1e3)+" BCH ",1),(0,s._)("div",null,[(0,s._)("button",{class:"btn btn-primary",type:"button",disabled:o.reaperBchBalance<=0||!o.isAdmin,onClick:t[7]||(t[7]=(...e)=>l.withdrawBchFromReaper&&l.withdrawBchFromReaper(...e))}," withdraw BCH ",8,ke)]),fe,ge,(0,s._)("p",null,(0,i.zw)(Math.round(o.reaperBchPerNft/10**12)/10**6)+" BCH ",1),(0,s.wy)((0,s._)("input",{id:"reaperBchPerNft",type:"text",class:"form-control mx-auto","onUpdate:modelValue":t[8]||(t[8]=e=>o.reaperBchPerNft=e)},null,512),[[a.nr,o.reaperBchPerNft]]),(0,s._)("div",null,[(0,s._)("button",{class:"btn btn-primary",disabled:!o.isAdmin,type:"button",onClick:t[9]||(t[9]=(...e)=>l.setReaperBchPerNft&&l.setReaperBchPerNft(...e))}," set new price "+(0,i.zw)(Math.round(o.reaperBchPerNft/10**12)/10**6)+" BCH ",9,be)]),ve,Te,(0,s.Uk)(" Mint is active: "+(0,i.zw)(!o.reaperMintPaused)+" ",1),(0,s._)("p",null,[(0,s._)("button",{onClick:t[10]||(t[10]=e=>l.setReaperMintPaused(!0)),disabled:o.reaperMintPaused||!o.isAdmin,class:"btn btn-danger"}," Pause ",8,_e),Me,(0,s._)("button",{onClick:t[11]||(t[11]=e=>l.setReaperMintPaused(!1)),disabled:!o.reaperMintPaused||!o.isAdmin,class:"btn btn-success"}," Unpause ",8,Ce)]),xe,(0,s.Uk)(" Staking is active: "+(0,i.zw)(!o.reaperStakingPaused)+" ",1),(0,s._)("p",null,[(0,s._)("button",{onClick:t[12]||(t[12]=e=>l.setReaperStakingPaused(!0)),disabled:o.reaperStakingPaused||!o.isAdmin,class:"btn btn-danger"}," Pause ",8,Pe),Ne,(0,s._)("button",{onClick:t[13]||(t[13]=e=>l.setReaperStakingPaused(!1)),disabled:!o.reaperStakingPaused||!o.isAdmin,class:"btn btn-success"}," Unpause ",8,Se)])])])])])}var Ue=n(6796),Re=n(7647),Ie=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"MAX_SUPPLY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burnFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_addressToCheck","type":"address"}],"name":"remainingMintersAllowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_addressToRemove","type":"address"}],"name":"removeMinter","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_addressToAdd","type":"address"},{"internalType":"uint256","name":"_newAllowance","type":"uint256"}],"name":"updateMintersAllowance","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),Fe=JSON.parse('{"Mt":[{"inputs":[{"internalType":"contract RewardToken","name":"_rewardToken","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"uint32","name":"_newBaseStakingPower","type":"uint32"}],"name":"adjustBaseStakingPower","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseExtension","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"bchPerNft","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"costPerLevel","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint16[]","name":"tokenIdArr","type":"uint16[]"}],"name":"emergencyUnstake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint16","name":"_tokenId","type":"uint16"}],"name":"getLevelView","outputs":[{"internalType":"uint8","name":"level","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"harvest","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isMintPausedStakingPaused","outputs":[{"internalType":"bool[2]","name":"","type":"bool[2]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint16","name":"_startId","type":"uint16"},{"internalType":"uint16","name":"_endId","type":"uint16"}],"name":"levelsForTokenIds","outputs":[{"internalType":"uint16[]","name":"","type":"uint16[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint8","name":"_mintAmount","type":"uint8"}],"name":"mint","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint8","name":"_mintAmount","type":"uint8"},{"internalType":"address","name":"_receiver","type":"address"}],"name":"mintForAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"royaltiesPctX100","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"royaltiesReceiver","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"uint256","name":"_salePrice","type":"uint256"}],"name":"royaltyInfo","outputs":[{"internalType":"address","name":"receiver","type":"address"},{"internalType":"uint256","name":"royaltyAmount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_newBaseURI","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_newBchPerNft","type":"uint256"}],"name":"setBchPerNft","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint16","name":"_newCostPerLevel","type":"uint16"}],"name":"setCostPerLevel","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_newPaused","type":"bool"}],"name":"setMintPaused","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint16","name":"_newRoyaltiesPctX100","type":"uint16"}],"name":"setRoyaltiesPercentageTimesHundred","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newRoyaltiesReceiver","type":"address"}],"name":"setRoyaltiesReceiver","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_newPaused","type":"bool"}],"name":"setStakingPaused","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"staker","type":"address"}],"name":"showStakerInfo","outputs":[{"internalType":"uint256[5]","name":"stkd4Scnds_stkrPwr_ttlPwr_basePwr_lastIdx_emmPh","type":"uint256[5]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_staker","type":"address"}],"name":"showStakersEarningsAfterLastTimestamp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_staker","type":"address"}],"name":"showStakersEarningsUntilLastTimestamp","outputs":[{"internalType":"uint256","name":"earned","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint16[]","name":"tokenIdArr","type":"uint16[]"}],"name":"stake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint16[]","name":"tokenIdArr","type":"uint16[]"}],"name":"unstake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint16[]","name":"tokenIdArr","type":"uint16[]"},{"internalType":"uint8[]","name":"levelIncArr","type":"uint8[]"}],"name":"upgradeLevel","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"walletOfOwner","outputs":[{"internalType":"uint16[]","name":"","type":"uint16[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint16","name":"_maxNftsToReturn","type":"uint16"},{"internalType":"uint16","name":"_slice","type":"uint16"}],"name":"walletOfOwnerWithLevels","outputs":[{"internalType":"uint16[]","name":"","type":"uint16[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),Be=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"winningClassesEncoded","type":"uint256"}],"name":"GamesPlayed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"address[]","name":"_tokenCA","type":"address[]"}],"name":"getInfo","outputs":[{"internalType":"uint32[]","name":"","type":"uint32[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_cards2Play","type":"uint256"}],"name":"playWithBch","outputs":[{"internalType":"uint256","name":"cardHistory","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_cards2Play","type":"uint256"},{"internalType":"address","name":"_tokenCA","type":"address"},{"internalType":"uint256","name":"costToken","type":"uint256"}],"name":"playWithToken","outputs":[{"internalType":"uint256","name":"cardHistory","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_caToRemove","type":"address"}],"name":"removePaymentToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"reset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_tokenCA","type":"address"},{"internalType":"uint32","name":"_newPriceMilliToken","type":"uint32"}],"name":"setNewPriceToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint8","name":"_newPaused0IsUnpaused","type":"uint8"}],"name":"setPaused","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint8","name":"_newMilliBchPerCard","type":"uint8"}],"name":"set_mBchPerCard","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawBch","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_ca","type":"address"}],"name":"withdrawToken","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),Le={name:"App",components:{},data(){return{rewardTokenContract:null,reaperContract:null,cardsContract:null,reaperBchBalance:0,reaperBchPerNft:"0",rewardTokenMintAllowance4NewMinter:"10000000000000000000000",addressTo:"",feedbackMessage:"",rewardTokenMintAllowance4Reaper:"0",rewardTokenMintAllowance4Cards:"0",isAdmin:!1,reaperMintPaused:!1,reaperStakingPaused:!1,allowanceToSet:5e6,totalStakedPower:0,baseStakingPower:0,released:0,rewardTokenEmissionPerHour:0}},methods:{mintRewardToken:async function(e,t){let n=await this.rewardTokenContract.mint(e,Re.vz(t.toString(),"ether"));await n.wait()},registerAddressAsMinter:async function(e,t){this.feedbackMessage="";let n=await this.rewardTokenContract.remainingMintersAllowance(e);if(n>0)return this.feedbackMessage=e+" is already registered as minter",!1;let a=await this.rewardTokenContract.updateMintersAllowance(e,t);await a.wait(),window.location.reload()},setNewMintAllowance:async function(e,t){let n;switch(e){case"reaper":n=window.ReaperAddress;break;case"cards":n=window.CardsAddress;break;default:return this.feedbackMessage="Contract not implemented",!1}if(0===t){let e=await this.rewardTokenContract.removeMinter(n);await e.wait(),window.location.reload()}else{let e=await this.rewardTokenContract.updateMintersAllowance(n,t);await e.wait(),window.location.reload()}},setReaperMintPaused:async function(e){let t=await this.reaperContract.setMintPaused(e);await t.wait(),window.location.reload()},setReaperStakingPaused:async function(e){let t=await this.reaperContract.setStakingPaused(e);await t.wait(),window.location.reload()},setReaperBchPerNft:async function(){let e=await this.reaperContract.setBchPerNft(String(this.reaperBchPerNft));await e.wait(),window.location.reload()},withdrawBchFromReaper:async function(){let e=await this.reaperContract.withdraw();await e.wait(),window.location.reload()}},mounted:function(){this.provider=new A.Q(window.ethereum,"any"),this.provider.send("eth_requestAccounts",[]).then((()=>{this.signer=this.provider.getSigner(),this.rewardTokenContract=new Ue.CH(window.RewardTokenAddress,Ie.Mt,this.signer),this.reaperContract=new Ue.CH(window.ReaperAddress,Fe.Mt,this.signer),this.cardsContract=new Ue.CH(window.CardsAddress,Be.Mt,this.signer)})).then((()=>{this.signer.getAddress().then((e=>{this.addressTo=e,e===window.DevAddress&&(this.isAdmin=!0)})),this.reaperContract.showStakerInfo(window.DevAddress).then((e=>{this.totalStakedPower=e[2],this.baseStakingPower=e[3],this.rewardTokenEmissionPerHour=String(Math.round(1e5*Re.dF(e[4]))/1e5)})),this.provider.getBalance(window.ReaperAddress).then((e=>{this.reaperBchBalance=String(e)})),this.reaperContract.isMintPausedStakingPaused().then((e=>{this.reaperMintPaused=e[0],this.reaperStakingPaused=e[1]})),this.reaperContract.bchPerNft().then((e=>{this.reaperBchPerNft=String(e)})),this.rewardTokenContract.remainingMintersAllowance(window.ReaperAddress).then((e=>{this.rewardTokenMintAllowance4Reaper=String(e)})),this.rewardTokenContract.remainingMintersAllowance(window.CardsAddress).then((e=>{this.rewardTokenMintAllowance4Cards=String(e)}))}))}};const De=(0,R.Z)(Le,[["render",Ae]]);var He=De;const Ee={class:"text-center container col-lg-8 col-md-9 col-sm-10 mx-auto mt-2 mb-4"},ze=(0,s._)("h1",null,"The Reaperville NFT Collection",-1),Oe=(0,s._)("h4",{class:"text-muted"},[(0,s.Uk)(" This collection of colorful reapers is the first NFT collection of the Surviville project. "),(0,s._)("a",{target:"_blank",href:"https://ville.cash/"},"Learn more about Surviville.")],-1),Ve=(0,s._)("div",{class:"col-xxl-4 mx-auto mt-4 mb-4"},[(0,s._)("img",{src:"/images/avatar/preview.gif",class:"img-fluid rounded",alt:"Reaperville NFTs Preview"})],-1),We={class:"text-muted"},Ye=(0,s.Uk)(" After minting some Reaperville NFTs, you can stake them "),je=(0,s.Uk)("here"),qe=(0,s.Uk)(" to earn a passive income stream of Surviville coins. These coins can be used to permanently upgrade the level of your NFTs in order to increase their staking power. "),Xe=(0,s._)("h4",{class:"text-muted"}," In the future, more use cases will follow — such as giving your NFTs custom names and participating in winning opportunities. ",-1),Ze=(0,s._)("br",null,null,-1),Qe=(0,s._)("h4",{class:"lead text-muted mx-auto my-3"},[(0,s._)("span",null,"You can mint up to 40 NFTs per transaction. "),(0,s._)("span",null,"The NFTs are minted in a non-sequential, randomised order.")],-1),$e={class:"mx-auto my-4",id:"nftsMinted"},Je={href:"#nftsMinted"},Ke=(0,s._)("h4",{class:"lead text-muted mx-auto my-3"},[(0,s._)("span",null,"Please select how many Reaperville NFTs you want to mint.")],-1),Ge={class:"mb-3 mx-auto"},et={class:"input-group mx-auto"},tt={class:"input-group-prepend mx-auto"},nt=(0,s.Uk)("   "),at=(0,s.Uk)("   "),st=(0,s.Uk)("   "),it=(0,s.Uk)("   "),rt=(0,s.Uk)("   "),ot=(0,s.Uk)("   "),lt=(0,s.Uk)("   "),dt={class:"mb-3 mx-auto"},ut={class:"input-group mx-auto"},ct={class:"input-group-prepend mx-auto"},pt=["disabled"],ht={class:"col-lg-8 col-md-8 col-sm-8 mx-auto"},wt=["max"],yt=["disabled"],mt={class:"row-lg-12"},kt={class:"column"},ft={key:0},gt={key:1},bt={class:"col-lg-6 col-md-8 mx-auto"},vt=["disabled"],Tt={key:1,class:"mt-4"},_t=(0,s.Uk)(" All Reaperville NFTs have been minted. Visit "),Mt=["href"],Ct=(0,s.Uk)(" to check if there are some for sale! "),xt=(0,s._)("br",null,null,-1),Pt={class:"mt-4"},Nt=(0,s._)("br",null,null,-1),St={class:"row"},At={class:"text-monospace col-lg-12 col-md-12 mx-auto mt-4 mb-2"},Ut={key:2,class:"row"},Rt=(0,s._)("h4",{class:"text-monospace col-lg-12 col-md-12 mx-auto mt-1 mb-4"}," Please wait for the transaction to finish! ",-1),It=[Rt],Ft=(0,s._)("br",null,null,-1),Bt={class:"text-muted mt-2"},Lt=(0,s._)("h6",{class:"mx-auto text-muted"},[(0,s._)("span",null,"Note that transactions cannot be undone.")],-1);function Dt(e,t,n,r,o,l){const d=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("section",Ee,[ze,Oe,Ve,(0,s._)("h4",We,[Ye,(0,s.Wm)(d,{to:"/my-reapers"},{default:(0,s.w5)((()=>[je])),_:1}),qe]),Xe,Ze,o.nftsMinted<o.nftsToMintTotal?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("h2",null,"For "+(0,i.zw)(o.bchPerNft/10**18)+" BCH you can mint 1 NFT.",1),Qe,(0,s._)("h2",$e,[(0,s._)("span",null,(0,i.zw)(o.nftsMinted)+" of "+(0,i.zw)(o.nftsToMintTotal)+" NFTs have been minted.",1),(0,s._)("a",Je,[(0,s._)("i",{title:"Reload numbers",onClick:t[0]||(t[0]=e=>l.load()),class:"ri-refresh-fill"})])]),Ke,(0,s._)("div",Ge,[(0,s._)("div",et,[(0,s._)("div",tt,[(0,s._)("button",{class:"btn btn-primary",type:"button",onClick:t[1]||(t[1]=e=>o.nftsToMint=1)}," 1 "),nt,(0,s._)("button",{class:"btn btn-primary",type:"button",onClick:t[2]||(t[2]=e=>o.nftsToMint=5)}," 5 "),at,(0,s._)("button",{class:"btn btn-primary",type:"button",onClick:t[3]||(t[3]=e=>o.nftsToMint=10)}," 10 "),st,(0,s._)("button",{class:"btn btn-primary",type:"button",onClick:t[4]||(t[4]=e=>o.nftsToMint=15)}," 15 "),it,(0,s._)("button",{class:"btn btn-primary",type:"button",onClick:t[5]||(t[5]=e=>o.nftsToMint=20)}," 20 "),rt,(0,s._)("button",{class:"btn btn-primary",type:"button",onClick:t[6]||(t[6]=e=>o.nftsToMint=25)}," 25 "),ot,(0,s._)("button",{class:"btn btn-primary",type:"button",onClick:t[7]||(t[7]=e=>o.nftsToMint=30)}," 30 "),lt,(0,s._)("button",{class:"btn btn-primary",type:"button",onClick:t[8]||(t[8]=e=>o.nftsToMint=40)}," 40 ")])])]),(0,s._)("div",dt,[(0,s._)("div",ut,[(0,s._)("div",ct,[(0,s._)("button",{class:"btn-primary",disabled:o.nftsToMint<=1,onClick:t[9]||(t[9]=e=>l.changeNftsToMint(-1))}," - ",8,pt),(0,s._)("div",ht,[(0,s.wy)((0,s._)("input",{id:"tokensToBuy",type:"number",min:"1",max:o.maxNftsPerTx,class:"form-control mx-auto",onChange:t[10]||(t[10]=e=>l.changeNftsToMint(0)),"onUpdate:modelValue":t[11]||(t[11]=e=>o.nftsToMint=e)},null,40,wt),[[a.nr,o.nftsToMint]])]),(0,s._)("button",{class:"btn-primary",disabled:o.nftsToMint>=o.maxNftsPerTx,onClick:t[12]||(t[12]=e=>l.changeNftsToMint(1))}," + ",8,yt)])])]),(0,s._)("span",mt,[(0,s._)("span",kt,[o.nftsToMint>1?((0,s.wg)(),(0,s.iD)("h4",ft," Mint "+(0,i.zw)(o.nftsToMint)+" Reaperville NFTs for: ",1)):((0,s.wg)(),(0,s.iD)("h4",gt,"Mint 1 Reaperville NFT for:")),(0,s._)("div",bt,[(0,s._)("button",{id:"buyButtonBch",type:"button",class:"btn btn-primary my-2 btn-large",disabled:o.mintPaused||o.bchPerNft<=0,onClick:t[13]||(t[13]=(...e)=>l.mintNFTsWithBCH&&l.mintNFTsWithBCH(...e))},(0,i.zw)(Math.round(o.nftsToMint*o.bchPerNft/10**12)/10**6)+" BCH ",9,vt)])])])],64)):((0,s.wg)(),(0,s.iD)("h2",Tt,[_t,(0,s._)("a",{href:"https://oasis.cash/collection/"+o.mintContractAddress,target:"_blank"},"Oasis.cash",8,Mt),Ct])),xt,(0,s._)("h3",Pt,[(0,s._)("span",null,"Your Balance: "+(0,i.zw)(Math.round(o.stakersBchBalance/10**15)/1e3)+" BCH ",1)]),(0,s._)("h3",null,"You hold "+(0,i.zw)(o.nftsOwned)+" Reaperville NFTs in your wallet.",1),Nt,(0,s._)("div",St,[(0,s._)("h4",At,(0,i.zw)(o.feedbackMessage),1)]),o.txInProgress?((0,s.wg)(),(0,s.iD)("div",Ut,It)):(0,s.kq)("",!0),Ft,(0,s._)("h6",Bt,[(0,s._)("span",null,"The gas limit is set to "+(0,i.zw)(o.gasLimit)+" to ensure a successful mint. Unused gas is automatically returned to your wallet. If you lower the gas limit, you risk having failed transactions. If a transaction fails, the gas fee is lost.",1)]),Lt])}var Ht=n(4469),Et={name:"App",components:{},data(){return{provider:null,signer:null,stakersAddress:"",stakersBchBalance:0,feedbackMessage:"",mintContract:null,mintContractAddress:window.ReaperAddress,mintPaused:!0,nftsToMint:10,maxNftsPerTx:40,bchPerNft:2e16,nftsMinted:0,nftsOwned:0,nftsToMintTotal:2500,txInProgress:!1,gasLimit:25e4}},methods:{getBchBalance:function(){this.provider.getBalance(this.stakersAddress).then((e=>{this.stakersBchBalance=e}))},changeNftsToMint:function(e){this.feedbackMessage="",this.nftsToMint=Math.floor(this.nftsToMint)+e,this.nftsToMint<1?this.nftsToMint=1:this.nftsToMint>this.maxNftsPerTx&&(this.nftsToMint=this.maxNftsPerTx)},mintNFTsWithBCH:async function(){await this.load();let e=this.nftsToMintTotal-this.nftsMinted;if(this.nftsToMint>e)return this.feedbackMessage=`There are only ${e} NFTs available for minting!`,this.maxNftsPerTx=e,!1;let t,n=this.bchPerNft*this.nftsToMint,a=Math.min(1e7,this.gasLimit+(this.gasLimit-25e3)*(this.nftsToMint-1));if(console.log("totalCostBchWei: ",n),console.log("Gas limit: ",a),this.stakersBchBalance<n+a)return this.feedbackMessage=`You have ${Math.round(this.stakersBchBalance/10**14)/1e4} BCH in your wallet. You can mint up to ${Math.round(this.stakersBchBalance/Number(this.bchPerNft)-.5)} NFTs with that.`,!1;this.feedbackMessage="Minting your NFTs.",this.txInProgress=!0;try{t=await this.mintContract.mint(this.nftsToMint,{value:n.toString(),gasLimit:a.toString()}),console.log(t),await t.wait(),console.log(t)}catch(i){return this.feedbackMessage="An error occured. Please try again later.",this.txInProgress=!1,!1}console.log("tx hash:",t.hash);const s=await this.provider.getTransaction(t.hash);try{let e=await this.provider.call(s,s.blockNumber);console.log(e),"0x"==e&&(this.feedbackMessage="Congratulations! You successfully minted some NFTs! Visit the staking website to take a look at your NFTs.",this.txInProgress=!1)}catch(i){this.feedbackMessage="An error occured.\nPlease try again later.",this.txInProgress=!1;const e=i.data.replace("Reverted ","");console.log({err:i});let t=Ht.ZN("0x"+e.substr(138));console.log("revert reason:",t)}this.load()},load:async function(){this.signer.getAddress().then((e=>{this.stakersAddress=e,this.getBchBalance(),this.mintContract.balanceOf(e).then((e=>{this.nftsOwned=e}))})),this.mintContract.isMintPausedStakingPaused().then((e=>{this.mintPaused=e[0]})),this.mintContract.bchPerNft().then((e=>{this.bchPerNft=e})),this.mintContract.totalSupply().then((e=>{this.nftsMinted=e}))}},mounted:function(){this.provider=new A.Q(window.ethereum,"any"),this.provider.send("eth_requestAccounts",[]).then((()=>{this.signer=this.provider.getSigner(),this.mintContract=new Ue.CH(window.ReaperAddress,Fe.Mt,this.signer)})).then((()=>{this.load()}))}};const zt=(0,R.Z)(Et,[["render",Dt]]);var Ot=zt,Vt=n(2483);const Wt={class:"content-body"};function Yt(e,t,n,a,i,r){const o=(0,s.up)("NftTop"),l=(0,s.up)("Nft");return(0,s.wg)(),(0,s.iD)("div",Wt,[(0,s.Wm)(o,{projectname:"Reaperville"}),(0,s.Wm)(l,{nftCA:i.nftContract,projectname:"Reaperville",pictureLink:"https://raw.githubusercontent.com/Surviville/Reaperville/master/png-low-res/"},null,8,["nftCA"])])}n(6699);const jt={key:0,class:"text-center"},qt=(0,s._)("h5",null,"Please log into Metamask first, then refresh this website...",-1),Xt=[qt],Zt={key:1,class:"text-center"},Qt=(0,s._)("h5",{"mt-4":""},"Loading NFTs...",-1),$t=[Qt],Jt={key:2,class:"col-12 text-center"},Kt=(0,s._)("h5",null,"Waiting for current transaction to finish...",-1),Gt=[Kt],en={class:"mt-4"},tn={key:3,class:"col-xxl-10 col-xl-10 col-lg-10 col-md-10 col-sm-12 mx-auto"},nn={class:"card"},an={class:"card-body"},sn=(0,s._)("span",null,"Before you can upgrade your NFTs, you need to approve the SVC token once.",-1),rn=(0,s.Uk)("   "),on=(0,s._)("br",null,null,-1),ln={key:4,class:"card"},dn={class:"col-xxl-12 col-xl-12 col-lg-12 col-md-12 col-sm-12"},un={class:"card-body"},cn={key:0},pn={key:1},hn=(0,s.Uk)(" Filter "),wn=(0,s._)("i",{class:"ri-arrow-down-s-line"},null,-1),yn=[hn,wn],mn=(0,s.Uk)(" Filter "),kn=(0,s._)("i",{class:"ri-arrow-up-s-line"},null,-1),fn=[mn,kn],gn=(0,s.Uk)("   "),bn=(0,s.Uk)("   "),vn=(0,s.Uk)("   "),Tn=["disabled"],_n=(0,s.Uk)("   "),Mn=["disabled"],Cn=(0,s.Uk)("   "),xn=["disabled"],Pn={key:4},Nn={key:5},Sn=(0,s._)("br",null,null,-1),An={key:0,class:"text-center"},Un={class:"row"},Rn={class:"card items"},In=["onClick"],Fn={class:"row"},Bn={class:"items-img position-relative"},Ln=["src"],Dn=(0,s.Uk)(" Current:   "),Hn={title:"current level"},En=(0,s.Uk)("   "),zn={title:"current staking power"},On={key:1},Vn={class:"row"},Wn=["min","max","onUpdate:modelValue","onChange"],Yn=(0,s.Uk)(" After upgrade: 🏆 "),jn=["onChange","min","max","onUpdate:modelValue"],qn={title:"power after upgrade"},Xn={class:"d-flex justify-content-center mt-3"},Zn=["onClick","disabled"],Qn=["onClick","disabled"],$n=(0,s.Uk)("   "),Jn=["onClick","disabled"],Kn=(0,s.Uk)("s");function Gn(e,t,n,r,o,l){return(0,s.wg)(),(0,s.iD)(s.HY,null,[null===o.stakersAddress?((0,s.wg)(),(0,s.iD)("div",jt,Xt)):(0,s.kq)("",!0),!0===o.loadingNfts&&null!==o.stakersAddress?((0,s.wg)(),(0,s.iD)("div",Zt,$t)):(0,s.kq)("",!0),o.transactionInProgress?((0,s.wg)(),(0,s.iD)("div",Jt,Gt)):(0,s.kq)("",!0),(0,s._)("h4",en,(0,i.zw)(o.feedbackMessage),1),null!==o.stakersAddress&&o.stakersTokenAllowanceForLeveling<=0?((0,s.wg)(),(0,s.iD)("div",tn,[(0,s._)("div",nn,[(0,s._)("div",an,[sn,rn,(0,s._)("button",{class:"btn btn-primary",type:"button",id:"approveRewardToken",onClick:t[0]||(t[0]=(...e)=>l.approveRewardToken&&l.approveRewardToken(...e))}," approve SVC ")])])])):(0,s.kq)("",!0),on,null!==o.stakersAddress?((0,s.wg)(),(0,s.iD)("div",ln,[(0,s._)("div",dn,[(0,s._)("div",un,[1==o.selectedNfts.length?((0,s.wg)(),(0,s.iD)("h4",cn,"1 NFT selected")):((0,s.wg)(),(0,s.iD)("h4",pn,(0,i.zw)(o.selectedNfts.length)+" NFTs selected",1)),!1===o.expandFilter?((0,s.wg)(),(0,s.iD)("button",{key:2,class:"btn btn-primary",type:"button",onClick:t[1]||(t[1]=e=>o.expandFilter=!o.expandFilter)},yn)):((0,s.wg)(),(0,s.iD)("button",{key:3,class:"btn btn-outline-primary",type:"button",onClick:t[2]||(t[2]=e=>o.expandFilter=!o.expandFilter)},fn)),gn,(0,s._)("button",{onClick:t[3]||(t[3]=(...e)=>l.selectVisible&&l.selectVisible(...e)),class:"btn btn-success",style:{"font-size":"14px"}}," Select all "),bn,(0,s._)("button",{onClick:t[4]||(t[4]=(...e)=>l.clearSelection&&l.clearSelection(...e)),class:"btn btn-danger",style:{"font-size":"14px"}}," Clear selection "),vn,(0,s._)("button",{onClick:t[5]||(t[5]=e=>l.upgradeSelectedNfts()),class:"btn btn-success",disabled:o.selectedNfts.length<=0||o.stakersTokenAllowanceForLeveling<=0||o.stakersTokenBalance<=0||o.stakingPaused,style:{"font-size":"14px"}}," Upgrade "+(0,i.zw)(Math.min(o.selectedNfts.length,o.maxNftsPerTx))+" for "+(0,i.zw)(o.tokenCostToBulkUpgrade)+" SVC ",9,Tn),_n,(0,s._)("button",{onClick:t[6]||(t[6]=(...e)=>l.stakeSelected&&l.stakeSelected(...e)),class:"btn btn-success",disabled:o.selectedNfts.length<=0||o.stakingPaused,style:{"font-size":"14px"}}," Stake "+(0,i.zw)(Math.min(o.selectedNfts.length,o.maxNftsPerTx)),9,Mn),Cn,(0,s._)("button",{onClick:t[7]||(t[7]=(...e)=>l.unstakeSelected&&l.unstakeSelected(...e)),class:"btn btn-danger",disabled:o.selectedNfts.length<=0||o.stakingPaused,style:{"font-size":"14px"}}," Unstake "+(0,i.zw)(Math.min(o.selectedNfts.length,o.maxNftsPerTx)),9,xn),o.selectedNfts.length>o.maxLevel?((0,s.wg)(),(0,s.iD)("p",Pn," Note: "+(0,i.zw)(o.maxLevel)+" NFTs max staking and unstaking in 1 transaction ",1)):(0,s.kq)("",!0),o.expandFilter?((0,s.wg)(),(0,s.iD)("ul",Nn,[(0,s._)("a",{class:(0,i.C_)(["dropdown-item",null===o.filter?"current":""]),href:"#",onClick:t[8]||(t[8]=e=>l.filterNfts("all"))},"All ("+(0,i.zw)(o.stakersNfts.length)+")",3),(0,s._)("a",{class:(0,i.C_)(["dropdown-item","staked"===o.filter?"current":""]),href:"#",onClick:t[9]||(t[9]=e=>l.filterNfts("staked"))},"Staked ("+(0,i.zw)(o.stakedCount)+")",3),(0,s._)("a",{class:(0,i.C_)(["dropdown-item","unstaked"===o.filter?"current":""]),href:"#",onClick:t[10]||(t[10]=e=>l.filterNfts("unstaked"))},"Unstaked ("+(0,i.zw)(o.unstakedCount)+")",3)])):(0,s.kq)("",!0)])]),Sn,!1===o.loadingNfts&&o.stakersNfts.length<=0?((0,s.wg)(),(0,s.iD)("h1",An,"No NFTs to display")):(0,s.kq)("",!0),(0,s._)("div",Un,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.filteredNfts,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"col-xxl-2 col-xl-3 col-lg-4 col-md-4 col-sm-6",key:e},[(0,s._)("div",Rn,[(0,s._)("div",{class:(0,i.C_)(o.selectedNfts.includes(e)?"card-selected card-body":"card-body"),onClick:t=>l.selectNft(e)},[(0,s._)("div",Fn,[(0,s._)("label",null,[(0,s._)("h5",null,"#"+(0,i.zw)(e),1)])]),(0,s._)("div",Bn,[(0,s._)("img",{src:n.pictureLink+e+".png",class:"img-fluid rounded mb-3",alt:""},null,8,Ln)]),(0,s._)("h6",{onClick:t[11]||(t[11]=(0,a.iM)((()=>{}),["stop"]))},[Dn,(0,s._)("span",Hn," 🏆"+(0,i.zw)(o.nftInfo[e].level),1),En,(0,s._)("span",zn," 🔥"+(0,i.zw)(o.powerForLevel[o.nftInfo[e].level]),1)]),o.nftInfo[e].level>=o.maxLevel?((0,s.wg)(),(0,s.iD)("h6",{key:0,onClick:t[12]||(t[12]=(0,a.iM)((()=>{}),["stop"]))}," Max. level reached! ")):((0,s.wg)(),(0,s.iD)("div",On,[(0,s._)("div",Vn,[(0,s.wy)((0,s._)("input",{type:"range",title:"Choose desired level after upgrade",class:"form-control-range",min:o.nftInfo[e].level+1,max:o.maxLevel,id:"levelsToUpgradeSlider","onUpdate:modelValue":t=>o.nftInfo[e].nftLevelAfterUpgrade=t,onChange:t=>l.updateLevelsToUpgrade(e),onClick:t[13]||(t[13]=(0,a.iM)((()=>{}),["stop"]))},null,40,Wn),[[a.nr,o.nftInfo[e].nftLevelAfterUpgrade]])]),(0,s._)("h6",{class:"text-muted mx-auto",onClick:t[14]||(t[14]=(0,a.iM)((()=>{}),["stop"]))},[Yn,o.nftInfo[e].nftLevelAfterUpgrade<=o.maxLevel?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,type:"number",title:"level after upgrade",onChange:t=>l.updateLevelsToUpgrade(e),min:o.nftInfo[e].level+1,max:o.maxLevel,style:{width:"3em"},"onUpdate:modelValue":t=>o.nftInfo[e].nftLevelAfterUpgrade=t},null,40,jn)),[[a.nr,o.nftInfo[e].nftLevelAfterUpgrade]]):(0,s.kq)("",!0),(0,s._)("span",qn," 🔥"+(0,i.zw)(o.powerForLevel[o.nftInfo[e].nftLevelAfterUpgrade]),1)])])),(0,s._)("div",Xn,[o.nftInfo[e].staked?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:(0,a.iM)((t=>l.unstake(e)),["stop"]),class:"btn btn-danger",disabled:o.stakingPaused,style:{"font-size":"14px"}}," Unstake ",8,Zn)):((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:(0,a.iM)((t=>l.stake(e)),["stop"]),class:"btn btn-primary",disabled:o.stakingPaused,style:{"font-size":"14px"}}," Stake ",8,Qn)),$n,o.stakersTokenAllowanceForLeveling<=0?((0,s.wg)(),(0,s.iD)("button",{key:2,class:"btn btn-primary",type:"button",id:"approveRewardToken",onClick:t[15]||(t[15]=(0,a.iM)(((...e)=>l.approveRewardToken&&l.approveRewardToken(...e)),["stop"])),style:{"font-size":"14px"}}," approve SVC ")):((0,s.wg)(),(0,s.iD)("button",{key:3,onClick:(0,a.iM)((t=>l.upgradeSpecificNft(e,o.nftInfo[e].levelsToUpgrade)),["stop"]),class:"btn btn-primary",disabled:o.stakersTokenBalance<=0||o.nftInfo[e].level>=o.maxLevel||o.stakingPaused,style:{"font-size":"14px"}},[(0,s.Uk)(" Upgrade "+(0,i.zw)(o.nftInfo[e].levelsToUpgrade)+" level",1),1!=o.nftInfo[e].levelsToUpgrade?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[Kn],64)):(0,s.kq)("",!0),(0,s.Uk)(" for "+(0,i.zw)(o.nftInfo[e].levelsToUpgrade*o.tokenCostPerLevel)+" SVC ",1)],8,Jn))])],10,In)])])))),128))])])):(0,s.kq)("",!0)],64)}var ea=n(5554);function ta(e,t){let n=e.indexOf(t);return n>-1?e.splice(n,1):console.log("Unstaking an NFT that has not been staked before!"),e}var na={name:"App",props:["nftCA","projectname","pictureLink"],emits:["updateStakingPowerEvent"],data(){return{expandFilter:!1,rpc:null,maxLevel:100,tokenCostPerLevel:100,tokenCostToBulkUpgrade:0,powerForLevel:[1e3,1050,1104,1162,1224,1291,1363,1440,1523,1613,1710,1815,1928,2051,2184,2329,2486,2657,2844,3048,3271,3515,3782,4075,4397,4730,5074,5428,5792,6165,6546,6934,7329,7730,8136,8546,8959,9375,9793,10212,10632,11051,11469,11886,12301,12713,13122,13527,13928,14324,14715,15101,15481,15855,16223,16584,16939,17287,17628,17962,18288,18607,18918,19222,19519,19808,20090,20364,20631,20891,21143,21391,21634,21873,22107,22336,22561,22781,22997,23210,23421,23630,23836,24040,24242,24441,24638,24833,25025,25215,25402,25587,25770,25950,26128,26304,26477,26648,26817,26983,27147],maxNftsPerTx:50,showLevelingExplanation:!1,stakersAddress:null,currentCollection:null,stakersTokenBalance:0,stakersTokenAllowanceForLeveling:0,feedbackMessage:"",nftContract:null,stakingContract:null,rewardTokenContract:null,provider:null,signer:null,loadingNfts:!0,stakersNfts:[],filteredNfts:[],filter:"all",selectedNfts:[],nftInfo:{},stakedCount:0,unstakedCount:0,nftLevel:{},transactionInProgress:!1,stakingPaused:!0}},methods:{selectNft:function(e){let t=this;t.selectedNfts.indexOf(e)<0?t.selectedNfts.push(e):ta(t.selectedNfts,e),t.updateCostForBulkUpgrade()},updateLevelsToUpgrade:function(e){let t=this;t.nftInfo[e].nftLevelAfterUpgrade=Math.round(t.nftInfo[e].nftLevelAfterUpgrade),t.selectedNfts.indexOf(e)<0&&t.selectedNfts.push(e),t.nftInfo[e].nftLevelAfterUpgrade>t.maxLevel?t.nftInfo[e].nftLevelAfterUpgrade=t.maxLevel:t.nftInfo[e].nftLevelAfterUpgrade<t.nftInfo[e].level+1&&(t.nftInfo[e].nftLevelAfterUpgrade=t.nftInfo[e].level+1),t.nftInfo[e].levelsToUpgrade=t.nftInfo[e].nftLevelAfterUpgrade-t.nftInfo[e].level,t.updateCostForBulkUpgrade()},getInitialLevel:function(e){return e<10?10:2500==e?0:9-Math.floor(e/250)},getPower:function(e){return this.powerForLevel[this.nftInfo[e].level]},approveRewardToken:async function(){let e=this;e.feedbackMessage="Approving SVC token",e.transactionInProgress=!0;try{let t=await e.rewardTokenContract.approve(window.ReaperAddress,ea.Bz,{gasLimit:65e3});await t.wait(),e.rewardTokenContract.allowance(e.stakersAddress,window.ReaperAddress).then((t=>{e.stakersTokenAllowanceForLeveling=t})),e.feedbackMessage="",e.transactionInProgress=!1}catch{e.transactionInProgress=!1,this.feedbackMessage="The transaction failed 😢"}},stake:async function(e){this.transactionInProgress=!0,this.feedbackMessage="Staking NFT";try{let t=await this.stakingContract.stake([e],{gasLimit:28e4});await t.wait(),this.load(),this.transactionInProgress=!1,this.feedbackMessage=""}catch{this.transactionInProgress=!1,this.feedbackMessage="The transaction failed 😢"}},unstake:async function(e){this.transactionInProgress=!0,this.feedbackMessage="Unstaking NFT";try{let t=await this.stakingContract.unstake([e],{gasLimit:29e4});await t.wait(),this.load(),this.transactionInProgress=!1,this.feedbackMessage=""}catch{this.transactionInProgress=!1,this.feedbackMessage="The transaction failed 😢"}},selectVisible:function(){this.feedbackMessage="",this.selectedNfts=[];for(let e of this.filteredNfts)this.selectedNfts.indexOf(e)<0&&this.selectedNfts.push(e);this.updateCostForBulkUpgrade()},clearSelection:function(){this.feedbackMessage="",this.selectedNfts=[],this.updateCostForBulkUpgrade()},stakeSelected:async function(){this.transactionInProgress=!0,this.feedbackMessage="Staking NFTs";let e=[];for(let t of this.selectedNfts)!1===this.nftInfo[t].staked&&this.filteredNfts.indexOf(t)>-1&&e.length<this.maxNftsPerTx&&e.push(t);if(this.selectedNfts=e.slice(),0===e.length)return this.feedbackMessage="No selected NFT matches all criteria.",!1;this.feedbackMessage="Staking selected NFTs.";try{let t=await this.stakingContract.stake(e,{gasLimit:Math.min(1e5+18e4*e.length,9999999)});await t.wait(),this.load(),this.transactionInProgress=!1,this.feedbackMessage=""}catch{this.transactionInProgress=!1,this.feedbackMessage="The transaction failed 😢"}},unstakeSelected:async function(){this.transactionInProgress=!0,this.feedbackMessage="Unstaking NFTs";let e=[];for(let t of this.selectedNfts)!0===this.nftInfo[t].staked&&this.filteredNfts.indexOf(t)>-1&&e.length<this.maxNftsPerTx&&e.push(t);if(this.selectedNfts=e.slice(),0===e.length)return this.feedbackMessage="No selected NFT matches all criteria.",!1;this.feedbackMessage="Unstaking selected NFTs.";try{let t=await this.stakingContract.unstake(e,{gasLimit:Math.min(125e3+2e5*e.length,9999999)});await t.wait(),this.load(),this.transactionInProgress=!1,this.feedbackMessage=""}catch{this.transactionInProgress=!1,this.feedbackMessage="The transaction failed 😢"}},updateCostForBulkUpgrade:function(){let e=0;this.tokenCostToBulkUpgrade=0;for(let t=0;t<this.selectedNfts.length;t++){let n=this.selectedNfts[t],a=this.nftInfo[n].levelsToUpgrade*this.tokenCostPerLevel;e>=this.maxNftsPerTx?(this.feedbackMessage="Max. number of NFTs selected",ta(this.selectedNfts,n),t--):(this.tokenCostToBulkUpgrade+=a,e++)}},upgradeSpecificNft:async function(e,t){if(this.transactionInProgress=!0,this.feedbackMessage="",0===t)return this.feedbackMessage="Can't upgrade 0 levels",!1;let n=this,a=t*n.tokenCostPerLevel;if(a>n.stakersTokenAllowanceForLeveling)return n.feedbackMessage="Please increase your SVC token allowance first",!1;if(a>n.stakersTokenBalance)return n.feedbackMessage="SVC token balance is too low",!1;let s=n.nftInfo[e].level;if(s>=n.maxLevel)return n.feedbackMessage="Cannot upgrade "+e+", because it's already at max. level",console.log(n.feedbackMessage),!1;let i=await n.nftContract.ownerOf(e);if(i!==n.stakersAddress&&i!==window.ReaperAddress)return n.feedbackMessage="Cannot upgrade "+e+", because it's not in your wallet",console.log(n.feedbackMessage),!1;n.feedbackMessage="Upgrading 1 NFT by "+t+" levels with "+a+" SVC",console.log(n.feedbackMessage),console.log("Power old= "+n.getPower(e)),console.log("Level old= "+s),console.log("Balance old= "+n.stakersTokenBalance);let r=n.stakersTokenBalance-a;console.log("Balance new= "+r);try{let a=await n.stakingContract.upgradeLevel([e],[t],{gasLimit:24e4});await a.wait(),n.nftInfo[e].staked?(n.load(),n.$emit("updateStakingPowerEvent")):n.load(),this.transactionInProgress=!1,this.feedbackMessage=""}catch{this.transactionInProgress=!1,this.feedbackMessage="The transaction failed 😢"}},upgradeSelectedNfts:async function(){this.feedbackMessage="";let e=this;if(e.tokenCostToBulkUpgrade*10**18>e.stakersTokenAllowanceForLeveling)return e.feedbackMessage="Please increase your SVC token allowance first",!1;if(e.tokenCostToBulkUpgrade*10**18>e.stakersTokenBalance)return e.feedbackMessage="SVC token balance is too low",!1;if(e.selectedNfts.length<1)return e.feedbackMessage="No NFTs selected",!1;if(1==e.selectedNfts.length){let t=e.selectedNfts[0],n=e.nftInfo[t].level;if(n>=e.maxLevel)return e.feedbackMessage="Cannot upgrade "+t+", because it's already at max. level",console.log(e.feedbackMessage),!1;let a=await this.nftContract.ownerOf(t);if(a!==e.stakersAddress&&a!==window.ReaperAddress)return e.feedbackMessage="You don't own "+t,console.log(e.feedbackMessage),!1;e.feedbackMessage="Upgrading 1 NFT by "+e.nftInfo[t].levelsToUpgrade+" levels",console.log(e.feedbackMessage),console.log("Level old= "+n),console.log("Balance old= "+e.stakersTokenBalance);let s=e.stakersTokenBalance-e.nftInfo[t].levelsToUpgrade;console.log("Balance new= "+s),this.transactionInProgress=!0;try{let n=await e.stakingContract.upgradeLevel([t],[e.nftInfo[t].levelsToUpgrade],{gasLimit:24e4});await n.wait()}catch{this.transactionInProgress=!1,this.feedbackMessage="The transaction failed 😢"}e.nftInfo[t].staked?window.location.reload():e.load()}else if(e.selectedNfts.length>1){let t=[],n=[];e.feedbackMessage="Double checking selected NFTs";for(let s=0;s<e.selectedNfts.length&&t.length<e.maxNftsPerTx;s++){let a=e.selectedNfts[s];0!==e.nftInfo[a].levelsToUpgrade?e.nftInfo[a].level>=e.maxLevel?e.feedbackMessage+=" — Skipping "+a+" (already at max level)":(t.push(e.selectedNfts[s]),n.push(e.nftInfo[a].levelsToUpgrade),console.log("Adding "+a),console.log(t)):e.feedbackMessage+=" — Skipping "+a+" (0 SVC upgrade)"}e.feedbackMessage+=" — "+t.length+" NFTs passed all checks",console.log(t),console.log(n),console.log("Bulk Upgrade Cost= "+e.tokenCostToBulkUpgrade),console.log("Balance old="+e.stakersTokenBalance);let a=e.stakersTokenBalance-e.tokenCostToBulkUpgrade;if(console.log("Balance after bulk upgrade: ",a),t.length<=0)return!1;e.feedbackMessage+=" — Upgrading NFTs ["+t+"] by ["+n+"] levels",this.transactionInProgress=!0;try{let e=await this.stakingContract.upgradeLevel(t,n,{gasLimit:Math.min(7e4+16e4*t.length,9999999)});await e.wait()}catch{this.transactionInProgress=!1,this.feedbackMessage="The transaction failed 😢"}}e.load(),this.transactionInProgress=!1,this.feedbackMessage=""},filterNfts:function(e){let t=this;switch(t.expandFilter=!1,t.filter=e,e){case"all":t.filteredNfts=t.stakersNfts;break;case"staked":t.filteredNfts=t.stakersNfts.filter((e=>!0===t.nftInfo[e].staked));break;case"unstaked":t.filteredNfts=t.stakersNfts.filter((e=>!1===t.nftInfo[e].staked));break;default:t.feedbackMessage="Filter not implemented"}},getWalletOfOwner:async function(e){let t=this;const n=500;return new Promise(((a,s)=>{let i=0,r=0;console.log("slice=",e),t.nftContract.walletOfOwnerWithLevels(t.stakersAddress,n,e).then((e=>{console.log("tokensLevels=",e),i=e.length,2*Math.floor(e.length/2)+1!==e.length&&console.log("Critical error! tokenLevelsLength should always be an odd number! tokenLevelsLength=",i),r=e[e.length-1];for(let n=0;n<e.length-1;n+=2){let a=Number(e[n]),s=Number(e[n+1]),i=!1;s>t.maxLevel?(s-=1e3,i=!1,t.unstakedCount++):(i=!0,t.stakedCount++),0===s&&(s=t.getInitialLevel(a)),t.stakersNfts.push(a),t.nftInfo[a]={staked:i,level:s,nftLevelAfterUpgrade:s+1,levelsToUpgrade:1}}})).then((()=>{(e+1)*n<r?(console.log("tokenLevelsLength",i),t.getWalletOfOwner(e+1).then((()=>{a()}))):a()})).catch((()=>{s()}))}))},load:async function(){let e=this;e.loadingNfts=!0,e.filteredNfts=[],e.stakersNfts=[],e.stakedCount=0,e.unstakedCount=0,e.stakersAddress=await e.signer.getAddress(),e.stakingContract.isMintPausedStakingPaused().then((t=>{console.log(t),e.stakingPaused=t[1]})),e.rewardTokenContract.balanceOf(e.stakersAddress).then((t=>{e.stakersTokenBalance=t})),e.rewardTokenContract.allowance(e.stakersAddress,window.ReaperAddress).then((t=>{e.stakersTokenAllowanceForLeveling=t})),e.getWalletOfOwner(0).then((()=>{e.stakersNfts.sort((function(t,n){return e.nftInfo[n].staked-e.nftInfo[t].staked||e.nftInfo[n].level-e.nftInfo[t].level||t-n})),console.log("calling filter"),e.filterNfts(e.filter),e.transactionInProgress=!1,e.loadingNfts=!1}))}},mounted:function(){this.rpc=window.ethereum,this.provider=new A.Q(this.rpc,"any"),this.provider.send("eth_requestAccounts",[]).then((()=>{this.signer=this.provider.getSigner(),this.nftContract=new Ue.CH(this.nftCA.toString(),Fe.Mt,this.signer),this.stakingContract=new Ue.CH(window.ReaperAddress,Fe.Mt,this.signer),this.rewardTokenContract=new Ue.CH(window.RewardTokenAddress,Ie.Mt,this.signer)})).then((()=>{this.load()}))}};const aa=(0,R.Z)(na,[["render",Gn]]);var sa=aa;const ia={key:0,class:"container text-start"},ra={class:"row"},oa={class:"col-xxl-6 mx-auto"},la={class:"card"},da={class:"card-body"},ua={class:"col-12 align-items-left"},ca={href:"#"},pa=(0,s._)("br",null,null,-1),ha=(0,s._)("br",null,null,-1),wa=(0,s._)("br",null,null,-1),ya=(0,s._)("br",null,null,-1),ma={key:0},ka={key:1},fa=(0,s._)("br",null,null,-1),ga=(0,s._)("br",null,null,-1),ba={key:1,class:"settings-menu"},va=(0,s._)("i",{class:"ri-arrow-down-s-line"},null,-1),Ta=(0,s._)("i",{class:"ri-arrow-up-s-line"},null,-1),_a={key:2},Ma=(0,s._)("br",null,null,-1),Ca={class:"settings-menu"},xa=["disabled"],Pa=(0,s.Uk)("   "),Na=(0,s._)("a",{target:"_blank",href:"https://app.mistswap.fi/swap?inputCurrency=BCH&outputCurrency=0xE7B1076d0853a7aAa6FbB477886726ed03C6Fffd",class:"btn btn-primary"}," Trade SVC at MistSwap ",-1);function Sa(e,t,n,a,r,o){return null!==r.stakersAddress?((0,s.wg)(),(0,s.iD)("div",ia,[(0,s._)("div",ra,[(0,s._)("div",oa,[(0,s._)("div",la,[(0,s._)("div",da,[(0,s._)("div",ua,[(0,s._)("h4",null,[(0,s.Uk)((0,i.zw)(n.projectname)+" NFTs — Staking and Leveling   ",1),(0,s._)("a",ca,[(0,s._)("i",{title:"Reload numbers",onClick:t[0]||(t[0]=(...e)=>o.reload&&o.reload(...e)),class:"ri-refresh-fill"})])]),(0,s._)("h5",null,"Balance: "+(0,i.zw)(r.stakersRewardTokenBalance)+" SVC",1),pa,(0,s._)("h5",{onUpdateStakingPowerEvent:t[1]||(t[1]=(...e)=>o.loadStakerInfo&&o.loadStakerInfo(...e))}," Staking power: "+(0,i.zw)(r.stakersPower)+"🔥 ",33),ha,r.stakersPower>0?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("h5",null," Staked for "+(0,i.zw)(o.formatSeconds(r.stakerStakedForSeconds))+". (Harvest and unstake reset the timer.) ",1),wa,(0,s._)("h5",null,[(0,s._)("strong",null,"Current payout level: "+(0,i.zw)(r.stakersPayoutPct)+"%",1)]),ya,r.stakerNextPayoutPctInSeconds>0?((0,s.wg)(),(0,s.iD)("h5",ma," Next payout level: "+(0,i.zw)(r.stakersNextPayoutPct)+"% — reached in "+(0,i.zw)(o.formatSeconds(r.stakerNextPayoutPctInSeconds)),1)):((0,s.wg)(),(0,s.iD)("h5",ka," Congratulations! You reached the highest payout level. "))],64)):(0,s.kq)("",!0),fa,(0,s._)("h6",null,"Total staked power: "+(0,i.zw)(r.totalStakedPower)+"🔥",1),(0,s._)("h6",null," Total SVC Emission: ~"+(0,i.zw)(Math.round(r.womEmissionPerHour*r.earningsTime*100)/100)+" SVC / "+(0,i.zw)(r.hoursInWords[r.earningsTime]),1),ga,r.womEmissionPerHour&&r.totalStakedPower&&r.stakersPower?((0,s.wg)(),(0,s.iD)("div",ba,[!1===r.expandEarnings?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn btn-primary",onClick:t[2]||(t[2]=e=>r.expandEarnings=!r.expandEarnings)},[(0,s.Uk)(" Earning ~"+(0,i.zw)(Math.round(r.stakerEarningRateX1k*r.earningsTime)/1e3)+" SVC / "+(0,i.zw)(r.hoursInWords[r.earningsTime])+" (@100%) ",1),va])):((0,s.wg)(),(0,s.iD)("button",{key:1,class:"btn btn-outline-primary",onClick:t[3]||(t[3]=e=>r.expandEarnings=!r.expandEarnings)},[(0,s.Uk)(" Earning ~"+(0,i.zw)(Math.round(r.stakerEarningRateX1k*r.earningsTime)/1e3)+" SVC / "+(0,i.zw)(r.hoursInWords[r.earningsTime])+" (@100%) ",1),Ta])),r.expandEarnings?((0,s.wg)(),(0,s.iD)("ul",_a,[(0,s._)("span",{class:(0,i.C_)(["dropdown-item",1===r.earningsTime?"current":""]),onClick:t[4]||(t[4]=e=>{r.earningsTime=1,r.expandEarnings=!1})}," Earning ~"+(0,i.zw)(Math.round(1*r.stakerEarningRateX1k)/1e3)+" SVC / hour (@100%) ",3),(0,s._)("span",{class:(0,i.C_)(["dropdown-item",24===r.earningsTime?"current":""]),onClick:t[5]||(t[5]=e=>{r.earningsTime=24,r.expandEarnings=!1})}," Earning ~"+(0,i.zw)(Math.round(24*r.stakerEarningRateX1k)/1e3)+" SVC / day (@100%) ",3),(0,s._)("span",{class:(0,i.C_)(["dropdown-item",168===r.earningsTime?"current":""]),onClick:t[6]||(t[6]=e=>{r.earningsTime=168,r.expandEarnings=!1})}," Earning ~"+(0,i.zw)(Math.round(168*r.stakerEarningRateX1k)/1e3)+" SVC / week (@100%) ",3),(0,s._)("span",{class:(0,i.C_)(["dropdown-item",720===r.earningsTime?"current":""]),onClick:t[7]||(t[7]=e=>{r.earningsTime=720,r.expandEarnings=!1})}," Earning ~"+(0,i.zw)(Math.round(720*r.stakerEarningRateX1k)/1e3)+" SVC / month (@100%) ",3),(0,s._)("span",{class:(0,i.C_)(["dropdown-item",8760===r.earningsTime?"current":""]),onClick:t[8]||(t[8]=e=>{r.earningsTime=8760,r.expandEarnings=!1})}," Earning ~"+(0,i.zw)(Math.round(8760*r.stakerEarningRateX1k)/1e3)+" SVC / year (@100%) ",3)])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),Ma,(0,s._)("div",Ca,[(0,s._)("button",{class:"btn btn-primary",onClick:t[9]||(t[9]=(...e)=>o.harvest&&o.harvest(...e)),disabled:r.stakingPaused||0==r.rewardTokenToHarvest}," Harvest "+(0,i.zw)(Math.round(r.stakersPayoutPct*r.rewardTokenToHarvest*10)/1e3)+" SVC ",9,xa),Pa,Na])])])])])])])):(0,s.kq)("",!0)}var Aa={name:"App",props:["projectname"],data(){return{expandEarnings:!1,rewardTokenContract:null,nftContract:null,stakingContract:null,provider:null,signer:null,womEmissionPerHour:null,stakersAddress:null,stakerStakedForSeconds:null,SECONDS_PER_DAY:86400,stakersPayoutPct:null,stakersNextPayoutPct:null,stakerNextPayoutPctInSeconds:null,stakersPower:null,totalStakedPower:null,baseStakingPower:null,stakerEarningRateX1k:null,earningsTime:168,hoursInWords:{1:"hour",24:"day",168:"week",720:"month",8760:"year"},rewardTokenToHarvest:0,stakingPaused:!0,stakersRewardTokenBalance:0}},methods:{harvest:async function(){let e=await this.stakingContract.harvest();await e.wait(),this.load()},approve:async function(){let e=await this.nftContract.setApprovalForAll(window.ReaperAddress,!0);await e.wait(),window.location.reload()},formatSeconds:function(e){e=Number(e);var t=Math.floor(e/86400),n=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),s=Math.floor(e%60),i=t>0?t+" d, ":"",r=n>0?n+" h, ":"",o=a>0?a+" min, ":"",l=s+" sec";return i+r+o+l},loadStakerInfo:function(){this.stakingContract.showStakerInfo(this.stakersAddress).then((e=>{let t=e[0];if(this.stakerStakedForSeconds=t,t>30*this.SECONDS_PER_DAY)this.stakersPayoutPct=115,this.stakersNextPayoutPct=115,this.stakerNextPayoutPctInSeconds=0;else if(t<19*this.SECONDS_PER_DAY){let e=Math.floor(t/this.SECONDS_PER_DAY);this.stakersPayoutPct=5*(e+1),this.stakersNextPayoutPct=this.stakersPayoutPct+5,this.stakerNextPayoutPctInSeconds=(e+1)*this.SECONDS_PER_DAY-t}else this.stakersPayoutPct=100,this.stakersNextPayoutPct=115,this.stakerNextPayoutPctInSeconds=30*this.SECONDS_PER_DAY-t;this.stakersPower=e[1],this.totalStakedPower=e[2],this.baseStakingPower=e[3],this.womEmissionPerHour=String(Math.round(1e5*Re.dF(e[4]))/1e5),this.stakerEarningRateX1k=this.womEmissionPerHour*this.stakersPower/(this.totalStakedPower-this.baseStakingPower)*1e3})),this.rewardTokenToHarvest=0,this.stakingContract.showStakersEarningsUntilLastTimestamp(this.stakersAddress).then((e=>{this.rewardTokenToHarvest+=Math.round(1e5*Re.dF(e))/1e5})),this.stakingContract.showStakersEarningsAfterLastTimestamp(this.stakersAddress).then((e=>{this.rewardTokenToHarvest+=Math.round(1e5*Re.dF(e))/1e5})),this.stakingContract.isMintPausedStakingPaused().then((e=>{this.stakingPaused=e[1]}))},getRewardTokenBalance:function(){this.rewardTokenContract.balanceOf(this.stakersAddress).then((e=>{this.stakersRewardTokenBalance=String(Math.round(1e5*Re.dF(e))/1e5)}))},reload:function(){this.getRewardTokenBalance(),this.loadStakerInfo()},load:function(){this.signer.getAddress().then((e=>{this.stakersAddress=e,this.loadStakerInfo(),this.getRewardTokenBalance()}))}},mounted:function(){this.provider=new A.Q(window.ethereum,"any"),this.provider.send("eth_requestAccounts",[]).then((()=>{this.signer=this.provider.getSigner(),this.rewardTokenContract=new Ue.CH(window.RewardTokenAddress,Ie.Mt,this.signer),this.stakingContract=new Ue.CH(window.ReaperAddress,Fe.Mt,this.signer)})).then((()=>{this.load()}))}};const Ua=(0,R.Z)(Aa,[["render",Sa]]);var Ra=Ua,Ia={name:"App",components:{Nft:sa,NftTop:Ra},data(){return{nftContract:window.ReaperAddress}}};const Fa=(0,R.Z)(Ia,[["render",Yt]]);var Ba=Fa;const La={class:"content-body"};function Da(e,t,n,a,i,r){const o=(0,s.up)("AllNfts");return(0,s.wg)(),(0,s.iD)("div",La,[(0,s.Wm)(o,{pictureLink:i.pictureLink,projectname:"Reaperville"},null,8,["pictureLink"])])}const Ha=(0,s.uE)('<div class="col-12"><div class="card"><div class="card-body"><div class="row"><div class="col-xxl-10 col-xl-10 col-lg-10 col-md-10 col-sm-12 mx-auto"><div class="card-body"><h2> Explore the colorful Reaperville NFT collection on SmartBch! </h2><h4> Which one is your favorite? Let us know in the <a href="https://t.me/reaperville" target="_blank">official Reaperville Telegram group</a>. </h4></div></div></div></div></div></div>',1),Ea={class:"col-12"},za={class:"card filter-tab"},Oa={class:"card-body bs-0 p-0 bg-transparent"},Va={class:"row"},Wa={class:"col-xxl-10 col-xl-10 col-lg-10 col-md-10 col-sm-12 mx-auto"},Ya={class:"card-body"},ja=(0,s._)("i",{class:"ri-arrow-down-s-line"},null,-1),qa=(0,s._)("i",{class:"ri-arrow-up-s-line"},null,-1),Xa=(0,s.Uk)("   "),Za=(0,s._)("i",{class:"ri-arrow-down-s-line"},null,-1),Qa=(0,s._)("i",{class:"ri-arrow-up-s-line"},null,-1),$a=(0,s.Uk)("   "),Ja={key:6,class:"mt-3"},Ka=["onClick"],Ga={key:7,class:"mt-3"},es=(0,s._)("br",null,null,-1),ts={class:"row"},ns={class:"card items"},as={class:"card-body"},ss={class:"card-title"},is={class:"items-img position-relative"},rs=["src"];function os(e,t,n,a,r,o){return(0,s.wg)(),(0,s.iD)(s.HY,null,[Ha,(0,s._)("div",Ea,[(0,s._)("div",za,[(0,s._)("div",Oa,[(0,s._)("div",Va,[(0,s._)("div",Wa,[(0,s._)("div",Ya,[!1===r.expandRange?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn btn-primary",type:"button",onClick:t[0]||(t[0]=e=>r.expandRange=!r.expandRange)},[(0,s.Uk)(" Showing "+(0,i.zw)(r.startIdx)+" - "+(0,i.zw)(r.startIdx+r.maxNftsPerPage-1)+" ",1),ja])):((0,s.wg)(),(0,s.iD)("button",{key:1,class:"btn btn-outline-primary",type:"button",onClick:t[1]||(t[1]=e=>r.expandRange=!r.expandRange)},[(0,s.Uk)(" Showing "+(0,i.zw)(r.startIdx)+" - "+(0,i.zw)(r.startIdx+r.maxNftsPerPage-1)+" ",1),qa])),Xa,!1===r.expandMaxNftsPerPage?((0,s.wg)(),(0,s.iD)("button",{key:2,class:"btn btn-primary",type:"button",onClick:t[2]||(t[2]=e=>r.expandMaxNftsPerPage=!r.expandMaxNftsPerPage)},[(0,s.Uk)(" Max. "+(0,i.zw)(r.maxNftsPerPage)+" NFTs ",1),Za])):((0,s.wg)(),(0,s.iD)("button",{key:3,class:"btn btn-outline-primary",type:"button",onClick:t[3]||(t[3]=e=>r.expandMaxNftsPerPage=!r.expandMaxNftsPerPage)},[(0,s.Uk)(" Max. "+(0,i.zw)(r.maxNftsPerPage)+" NFTs ",1),Qa])),$a,r.imgResolutionIdx>0?((0,s.wg)(),(0,s.iD)("button",{key:4,class:"btn btn-outline-primary",type:"button",onClick:t[4]||(t[4]=e=>r.imgResolutionIdx=(r.imgResolutionIdx+1)%2)}," Resolution: Full ")):((0,s.wg)(),(0,s.iD)("button",{key:5,class:"btn btn-primary",type:"button",onClick:t[5]||(t[5]=e=>r.imgResolutionIdx=(r.imgResolutionIdx+1)%2)}," Resolution: Low ")),r.expandRange?((0,s.wg)(),(0,s.iD)("ul",Ja,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Math.ceil(2500/r.maxNftsPerPage),(e=>((0,s.wg)(),(0,s.iD)("a",{key:e,class:(0,i.C_)(["dropdown-item",r.startIdx===(e-1)*r.maxNftsPerPage?"current":""]),href:"#",onClick:t=>o.load((e-1)*r.maxNftsPerPage+1,r.maxNftsPerPage)}," Show "+(0,i.zw)((e-1)*r.maxNftsPerPage+1)+" - "+(0,i.zw)(Math.min(e*r.maxNftsPerPage,2500)),11,Ka)))),128))])):(0,s.kq)("",!0),r.expandMaxNftsPerPage?((0,s.wg)(),(0,s.iD)("ul",Ga,[(0,s._)("a",{class:(0,i.C_)(["dropdown-item",10===r.maxNftsPerPage?"current":""]),href:"#",onClick:t[6]||(t[6]=e=>o.load(r.startIdx,10))},"Max. 10",2),(0,s._)("a",{class:(0,i.C_)(["dropdown-item",25===r.maxNftsPerPage?"current":""]),href:"#",onClick:t[7]||(t[7]=e=>o.load(r.startIdx,25))},"Max. 25",2),(0,s._)("a",{class:(0,i.C_)(["dropdown-item",50===r.maxNftsPerPage?"current":""]),href:"#",onClick:t[8]||(t[8]=e=>o.load(r.startIdx,50))},"Max. 50",2),(0,s._)("a",{class:(0,i.C_)(["dropdown-item",75===r.maxNftsPerPage?"current":""]),href:"#",onClick:t[9]||(t[9]=e=>o.load(r.startIdx,75))},"Max. 75",2),(0,s._)("a",{class:(0,i.C_)(["dropdown-item",125===r.maxNftsPerPage?"current":""]),href:"#",onClick:t[10]||(t[10]=e=>o.load(r.startIdx,125))},"Max. 125",2)])):(0,s.kq)("",!0)])])]),es,(0,s._)("div",ts,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.filteredNfts,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"col-xxl-3 col-xl-4 col-lg-4 col-md-6 col-sm-6",key:e},[(0,s._)("div",ns,[(0,s._)("div",as,[(0,s._)("label",null,[(0,s._)("h4",ss," #"+(0,i.zw)(e)+"   ",1)]),(0,s._)("div",is,[(0,s._)("img",{src:n.pictureLink[r.imgResolutionIdx]+e+".png",class:"img-fluid rounded mb-3"},null,8,rs)])])])])))),128))])])])])],64)}var ls={name:"App",props:["pictureLink","projectname"],emits:["updateStakingPowerEvent"],data(){return{expandRange:!1,expandMaxNftsPerPage:!1,maxLevel:100,powerForLevel:[1e3,1050,1104,1162,1224,1291,1363,1440,1523,1613,1710,1815,1928,2051,2184,2329,2486,2657,2844,3048,3271,3515,3782,4075,4397,4730,5074,5428,5792,6165,6546,6934,7329,7730,8136,8546,8959,9375,9793,10212,10632,11051,11469,11886,12301,12713,13122,13527,13928,14324,14715,15101,15481,15855,16223,16584,16939,17287,17628,17962,18288,18607,18918,19222,19519,19808,20090,20364,20631,20891,21143,21391,21634,21873,22107,22336,22561,22781,22997,23210,23421,23630,23836,24040,24242,24441,24638,24833,25025,25215,25402,25587,25770,25950,26128,26304,26477,26648,26817,26983,27147],filteredNfts:[],maxNftsPerPage:25,startIdx:1,imgResolutionIdx:0}},methods:{getInitialLevel:function(e){return e<10?10:2500==e?0:9-Math.floor(e/250)},getPower:function(e){return this.powerForLevel[this.nftInfo[e].level]},load:async function(e,t){let n=this;n.expandRange=!1,n.expandMaxNftsPerPage=!1,e<1&&(e=1),this.maxNftsPerPage=t,this.startIdx=e,n.filteredNfts=[];for(let a=e;a<Math.min(e+t,2500);a++)n.filteredNfts.push(a);console.log("calling filter")}},mounted:function(){this.load(1,this.maxNftsPerPage)}};const ds=(0,R.Z)(ls,[["render",os]]);var us=ds,cs={name:"App",components:{AllNfts:us},data(){return{pictureLink:["https://raw.githubusercontent.com/Surviville/Reaperville/master/png-low-res/","https://raw.githubusercontent.com/Surviville/Reaperville/master/png/"]}}};const ps=(0,R.Z)(cs,[["render",Da]]);var hs=ps;const ws={class:"content-body"},ys={class:"container text-start"},ms={class:"col-xxl-12"},ks=(0,s._)("div",{class:"card"},[(0,s._)("div",{class:"card-body"},[(0,s._)("h3",null,"Notice"),(0,s._)("h5",null," Click the envelope icons to show or hide the sections on this page. ")])],-1),fs={class:"card"},gs={class:"card-body"},bs={key:0},vs=(0,s.Uk)(" How Staking Your Reaperville NFTs Works   "),Ts={href:"#Staking"},_s={id:"Staking"},Ms=(0,s.Uk)(" How Staking Your Reaperville NFTs Works   "),Cs={href:"#Staking"},xs=(0,s._)("ul",null,[(0,s.Uk)(" Normally, when you stake one or multiple NFTs, you transfer the ownership of your NFTs to a smart contract which promises to transfer them back to you when you want to unstake your NFTs. "),(0,s._)("h5",{class:"mt-3"},"We at Surviville do things differently!"),(0,s.Uk)(" When you stake a Reaperville NFT, the NFT remains in your wallet. That means, you don't have to transfer your NFTs to a different contract to stake them. However, when you decide to transfer a staked NFT to another wallet or an NFT marketplace, you need to unstake them first on this website in order to harvest your staking rewards. If you try to transfer a staked NFT without unstaking it first, the NFT is automatically unstaked for you, but you will not receive the staking rewards for this particular NFT since your last automatic or manual harvest. However, transferring staked NFTs also don't reset the penalties and reward cycle — which can be an advantage. However, transferring staked NFTs also don't reset the penalties and reward cycle. ")],-1),Ps=(0,s._)("br",null,null,-1),Ns={key:2},Ss=(0,s.Uk)(" How Many NFTs can you stake?   "),As={href:"#HowMany"},Us={id:"HowMany"},Rs=(0,s.Uk)(" How Many NFTs can you stake?   "),Is={href:"#HowMany"},Fs=(0,s._)("h5",null,"As many as you want!",-1),Bs=(0,s._)("ul",null," There are no limitations per wallet. ",-1),Ls=(0,s._)("br",null,null,-1),Ds={key:4},Hs=(0,s.Uk)(" Advantages and Disadvantages   "),Es={href:"#Advantages",id:"Advantages"},zs=(0,s.Uk)(" Advantages and Disadvantages   "),Os={href:"#Advantages",id:"Advantages"},Vs=(0,s._)("h5",null,"Advantages",-1),Ws=(0,s._)("ul",null," Super low gas fees for staking and unstaking your NFTs. The staked NFTs remain in your wallet. No need to trust a smart contract with the custody of your NFTs. ",-1),Ys=(0,s._)("br",null,null,-1),js=(0,s._)("h5",null,"Disadvantages",-1),qs=(0,s._)("ul",null," You need to remember to unstake the NFTs which you want to transfer to another wallet or which you want to sell on Oasis. If you forget to unstake the NFTs before transferring them, you will lose the harvest of these NFTs since your last automatic or manual harvest, but the penalties and bonus cycle will not be restarted. ",-1),Xs={class:"col-xxl-12"},Zs={class:"card top-bid"},Qs={class:"card-body"},$s={class:"row align-items-center"},Js={class:"col align-items-center",id:"LevelUpgrades"},Ks={key:0},Gs=(0,s.Uk)(" NFT Level Upgrades   "),ei={href:"#LevelUpgrades"},ti=(0,s.Uk)(" NFT Level Upgrades   "),ni={href:"#LevelUpgrades"},ai=(0,s.uE)('<ul><p> You can permanently increase the staking power of your NFTs by upgrading the levels of any NFT you own. For level upgrades you need SVC tokens which you can earn by staking your NFTs or by buying them on MistSwap. Each level upgrade costs <strong>100 SVC tokens. </strong></p><p> The maximum level is <strong>100. </strong></p><p> Use the slider on the <a href="/my-reapers">staking and leveling website</a> to select the level you want to upgrade to. The website shows you a preview of the power after the upgrade. </p><p><strong>100%</strong> of the SVC which is used for leveling NFTs is <strong>burned</strong>. </p></ul>',1),si={class:"col-xxl-12"},ii={class:"card top-bid"},ri={class:"card-body"},oi={class:"row align-items-center"},li={class:"col align-items-center",id:"HarvestTypes"},di={key:0},ui=(0,s.Uk)(" Harvest Types   "),ci={href:"#HarvestTypes"},pi=(0,s.Uk)(" Harvest Types   "),hi={href:"#HarvestTypes"},wi=(0,s.uE)("<ul> Whenever you stake, unstake or upgrade one or multiple NFTs, a harvest of SVC reward tokens is automatically executed. Additionally, you can harvest SVC reward tokens whenever you want. This operation is called a <strong>manual harvest</strong>. </ul><br><h3>Harvest Penalties and Bonuses</h3><h5>Penalties</h5><ul> If you harvest within the first 20 days of your first stake or your last manual harvest, the harvest amount is reduced by a penalty. The penalty applies to both automatic and manual harvests. Within the first day of staking, the penalty is 95% of the harvest amount. For each subsequent full day of staking, the penalty is reduced by 5 percentage points. That means, you will receive 10% after a full day of staking, 15% after 2 full days, 20% after 3 full days and so on. After 19 full days of staking your NFTs, you will receive 100% of the harvest amount. That means after 20 days there are no penalties on harvests. </ul><br><h5>Bonus</h5><ul> But wait, that&#39;s not all: After 30 full days of staking, you will receive a 15% bonus. 👀 Note that each pure harvest and each unstake will reset the penalties and bonuses cycle. A stake or level upgrade will <strong>not</strong> reset the cycle. An automatic unstake due to an NFT transfer will also not reset the cycle. </ul>",8);function yi(e,t,n,a,i,r){return(0,s.wg)(),(0,s.iD)("div",ws,[(0,s._)("div",ys,[(0,s._)("div",ms,[ks,(0,s._)("div",fs,[(0,s._)("div",gs,[i.showStaking?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("h3",_s,[Ms,(0,s._)("a",Cs,[(0,s._)("i",{onClick:t[1]||(t[1]=e=>i.showStaking=!i.showStaking),title:"Hide text",class:"ri-mail-open-line"})])]),xs],64)):((0,s.wg)(),(0,s.iD)("h3",bs,[vs,(0,s._)("a",Ts,[(0,s._)("i",{onClick:t[0]||(t[0]=e=>i.showStaking=!i.showStaking),title:"Show text",class:"ri-mail-line"})])])),Ps,i.showHowMany?((0,s.wg)(),(0,s.iD)(s.HY,{key:3},[(0,s._)("h3",Us,[Rs,(0,s._)("a",Is,[(0,s._)("i",{onClick:t[3]||(t[3]=e=>i.showHowMany=!i.showHowMany),title:"Hide text",class:"ri-mail-open-line"})])]),Fs,Bs],64)):((0,s.wg)(),(0,s.iD)("h3",Ns,[Ss,(0,s._)("a",As,[(0,s._)("i",{onClick:t[2]||(t[2]=e=>i.showHowMany=!i.showHowMany),title:"Show text",class:"ri-mail-line"})])])),Ls,i.showAdvantages?((0,s.wg)(),(0,s.iD)(s.HY,{key:5},[(0,s._)("h3",null,[zs,(0,s._)("a",Os,[(0,s._)("i",{onClick:t[5]||(t[5]=e=>i.showAdvantages=!i.showAdvantages),title:"Hide text",class:"ri-mail-open-line"})])]),Vs,Ws,Ys,js,qs],64)):((0,s.wg)(),(0,s.iD)("h3",Ds,[Hs,(0,s._)("a",Es,[(0,s._)("i",{onClick:t[4]||(t[4]=e=>i.showAdvantages=!i.showAdvantages),title:"Show text",class:"ri-mail-line"})])]))])]),(0,s._)("div",Xs,[(0,s._)("div",Zs,[(0,s._)("div",Qs,[(0,s._)("div",$s,[(0,s._)("div",Js,[i.showUpgrades?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("h3",null,[ti,(0,s._)("a",ni,[(0,s._)("i",{onClick:t[7]||(t[7]=e=>i.showUpgrades=!i.showUpgrades),title:"Show text",class:"ri-mail-open-line"})])]),ai],64)):((0,s.wg)(),(0,s.iD)("h3",Ks,[Gs,(0,s._)("a",ei,[(0,s._)("i",{onClick:t[6]||(t[6]=e=>i.showUpgrades=!i.showUpgrades),title:"Show text",class:"ri-mail-line"})])]))])])])])]),(0,s._)("div",si,[(0,s._)("div",ii,[(0,s._)("div",ri,[(0,s._)("div",oi,[(0,s._)("div",li,[i.showHarvest?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("h3",null,[pi,(0,s._)("a",hi,[(0,s._)("i",{onClick:t[9]||(t[9]=e=>i.showHarvest=!i.showHarvest),class:"ri-mail-open-line"})])]),wi],64)):((0,s.wg)(),(0,s.iD)("h3",di,[ui,(0,s._)("a",ci,[(0,s._)("i",{onClick:t[8]||(t[8]=e=>i.showHarvest=!i.showHarvest),class:"ri-mail-line"})])]))])])])])])])])])}var mi={data(){return{showStaking:!1,showAdvantages:!1,showHowMany:!1,showUpgrades:!1,showHarvest:!1}}};const ki=(0,R.Z)(mi,[["render",yi]]);var fi=ki;const gi={class:"content-body"},bi={class:"container text-start"},vi={class:"col-xxl-12"},Ti=(0,s._)("div",{class:"card"},[(0,s._)("div",{class:"card-body"},[(0,s._)("h3",null,"Notice"),(0,s._)("h5",null," Click the envelope icons to show or hide the sections on this page. ")])],-1),_i={class:"card"},Mi={class:"card-body"},Ci={key:0},xi=(0,s.Uk)(" Surviville Coin Tokenomics   "),Pi={href:"#SVC"},Ni={id:"SVC"},Si=(0,s.Uk)(" Surviville Coin Tokenomics   "),Ai={href:"#SVC"},Ui=(0,s.Uk)(" Current token amount in existence: "),Ri=(0,s.uE)("<p>Total maximum supply: <strong>210 million SVC</strong></p><p> The total maximum supply <strong>cannot be exceeded</strong>. </p><p> The total maximum supply <strong>cannot be increased</strong>. </p><p><strong>1 million SVC</strong> were minted to the project&#39;s wallet at the time the token was created. </p><p> The goal was having enough supply to provide initial liquidity for SVC. </p><h4>There was <strong>no token presale</strong>.</h4><p> BCH for the initial liquidity was taken from the Reaperville mint proceeds. </p><h4>There is <strong>no developer tax</strong> on SVC.</h4><h4><strong>100%</strong> of the SVC which is used for leveling NFTs is <strong>burned</strong>. </h4>",9),Ii=(0,s._)("br",null,null,-1),Fi=(0,s._)("h4",null," In addition to the total max. supply mentioned above, each collection and subproject of Surviville has their own limits on how many SVC they can mint as rewards. ",-1),Bi=(0,s._)("h4",null," You can find more details on the already existing subprojects and collections below. ",-1),Li={class:"card"},Di={class:"card-body"},Hi={key:0},Ei=(0,s.Uk)(" Reaperville   "),zi={href:"#Reaperville"},Oi={id:"Reaperville"},Vi=(0,s.Uk)(" Reaperville   "),Wi={href:"#Reaperville"},Yi=(0,s._)("h4",{class:"mt-4"}," SVC is earnable as a reward token via Reaperville staking: ",-1),ji=(0,s._)("ul",null,[(0,s._)("p",null,[(0,s._)("strong",null,"1 million SVC"),(0,s.Uk)(" in the "),(0,s._)("strong",null,"first year")]),(0,s._)("p",null,[(0,s._)("strong",null,"2.5 million SVC"),(0,s.Uk)(" in the "),(0,s._)("strong",null,"first 3 years")]),(0,s._)("p",null,[(0,s.Uk)(" Lifetime rewards for Reaperville staking are limited to "),(0,s._)("strong",null,"5 million SVC")])],-1),qi=(0,s.Uk)(" SVC "),Xi=(0,s._)("strong",null,"minted",-1),Zi=(0,s.Uk)(" as staking rewards: "),Qi=(0,s.Uk)(" until now "),$i=(0,s.Uk)(" SVC "),Ji=(0,s._)("strong",null,"burned",-1),Ki=(0,s.Uk)(" for level upgrades: "),Gi=(0,s.Uk)(" until now "),er={key:2,class:"mt-4"},tr=(0,s.Uk)(" Details on SVC Emission from Reaperville Staking   "),nr={href:"#ReapervilleRewardTokenEmission"},ar={class:"mt-4",id:"ReapervilleRewardTokenEmission"},sr=(0,s.Uk)(" Details on Reward Token Emission   "),ir={href:"#ReapervilleRewardTokenEmission"},rr=(0,s.Uk)(" Current Reaperville total emission rate: "),or=(0,s._)("h4",null," All incurred penalties for automatic or manual harvests of the Reaperville NFT staking reduce the effective emission rate by up to 95%. ",-1),lr=(0,s._)("h4",null," If a staker harvests after qualifying for the 15% bonus for having staked the Reaperville NFTs for at least 30 days, this may increase the effective emission rate by up to 15%. ",-1),dr={class:"mt-4"},ur=(0,s.Uk)(" Total staked power: "),cr=(0,s.Uk)("🔥 "),pr=(0,s.Uk)(" Base staking power (used to adjust the reward token emission): "),hr=(0,s._)("h4",null,"Summary of automatic token emission reduction",-1),wr=(0,s._)("p",null,"Stake and upgrade add 1% to base staking power",-1),yr=(0,s._)("p",null,"Unstake adds 5% to base staking power",-1),mr=(0,s._)("p",null,"Emergency unstake adds 0% to base staking power",-1),kr=(0,s._)("p",null," Manual adjustments may be necessary to reach the planned reward token emission ",-1),fr={class:"card"},gr={class:"card-body"},br={key:0},vr=(0,s.Uk)(" Other Sub-Projects   "),Tr={href:"#OtherProjects"},_r={id:"OtherProjects"},Mr=(0,s.Uk)(" Other Sub-Projects   "),Cr={href:"#Reaperville"},xr=(0,s._)("h4",{class:"mt-4"}," Information about other sub-projects of the Surviville project will be published at a later point. ",-1),Pr=(0,s._)("h4",null,"Stay tuned!",-1);function Nr(e,t,n,a,r,o){return(0,s.wg)(),(0,s.iD)("div",gi,[(0,s._)("div",bi,[(0,s._)("div",vi,[Ti,(0,s._)("div",_i,[(0,s._)("div",Mi,[r.showTokenomics?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("h2",Ni,[Si,(0,s._)("a",Ai,[(0,s._)("i",{onClick:t[1]||(t[1]=e=>r.showTokenomics=!r.showTokenomics),title:"Hide text",class:"ri-mail-open-line"})])]),(0,s._)("ul",null,[(0,s._)("h4",null,[Ui,(0,s._)("strong",null,(0,i.zw)(Math.floor(r.rewardTokenTotalSupply/1e3)/1e3)+" million SVC ",1)]),Ri]),Ii,Fi,Bi],64)):((0,s.wg)(),(0,s.iD)("h2",Ci,[xi,(0,s._)("a",Pi,[(0,s._)("i",{onClick:t[0]||(t[0]=e=>r.showTokenomics=!r.showTokenomics),title:"Show text",class:"ri-mail-line"})])]))])]),(0,s._)("div",Li,[(0,s._)("div",Di,[r.showReaperville?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("h2",Oi,[Vi,(0,s._)("a",Wi,[(0,s._)("i",{onClick:t[3]||(t[3]=e=>r.showReaperville=!r.showReaperville),title:"Hide text",class:"ri-mail-open-line"})])]),Yi,ji,(0,s._)("h4",null,[qi,Xi,Zi,(0,s._)("strong",null,(0,i.zw)(r.rewardTokenMinted4Reaper)+" SVC ",1),Qi]),(0,s._)("h4",null,[$i,Ji,Ki,(0,s._)("strong",null,(0,i.zw)(1e6+r.rewardTokenMinted4Reaper-r.rewardTokenTotalSupply)+" SVC ",1),Gi])],64)):((0,s.wg)(),(0,s.iD)("h2",Hi,[Ei,(0,s._)("a",zi,[(0,s._)("i",{onClick:t[2]||(t[2]=e=>r.showReaperville=!r.showReaperville),title:"Show text",class:"ri-mail-line"})])])),r.showReapervilleRewardTokenEmission?((0,s.wg)(),(0,s.iD)(s.HY,{key:3},[(0,s._)("h3",ar,[sr,(0,s._)("a",ir,[(0,s._)("i",{onClick:t[5]||(t[5]=e=>r.showReapervilleRewardTokenEmission=!r.showReapervilleRewardTokenEmission),title:"Hide text",class:"ri-mail-open-line"})])]),(0,s._)("h4",null,[(0,s._)("p",null,[rr,(0,s._)("strong",null,(0,i.zw)(r.rewardTokenEmissionPerHour)+" SVC / hour @100% payout",1)]),(0,s._)("p",null," = "+(0,i.zw)(Math.round(24*r.rewardTokenEmissionPerHour*365/1e3)/1e3)+" million SVC / year ",1)]),or,lr,(0,s._)("h4",dr,[(0,s._)("p",null,[ur,(0,s._)("strong",null,(0,i.zw)(r.totalStakedPower),1),cr])]),r.isAdmin?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("h4",null,[(0,s._)("p",null,[pr,(0,s._)("strong",null,(0,i.zw)(r.baseStakingPower)+" == "+(0,i.zw)(Math.round(r.baseStakingPower/r.totalStakedPower*1e4)/100)+"%",1)])]),hr,wr,yr,mr,kr],64)):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.iD)("h3",er,[tr,(0,s._)("a",nr,[(0,s._)("i",{onClick:t[4]||(t[4]=e=>r.showReapervilleRewardTokenEmission=!r.showReapervilleRewardTokenEmission),title:"Show text",class:"ri-mail-line"})])]))])]),(0,s._)("div",fr,[(0,s._)("div",gr,[r.showOtherProjects?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("h2",_r,[Mr,(0,s._)("a",Cr,[(0,s._)("i",{onClick:t[7]||(t[7]=e=>r.showOtherProjects=!r.showOtherProjects),title:"Hide text",class:"ri-mail-open-line"})])]),xr,Pr],64)):((0,s.wg)(),(0,s.iD)("h2",br,[vr,(0,s._)("a",Tr,[(0,s._)("i",{onClick:t[6]||(t[6]=e=>r.showOtherProjects=!r.showOtherProjects),title:"Show text",class:"ri-mail-line"})])]))])])])])])}var Sr={data(){return{showTokenomics:!1,showReaperville:!1,showReapervilleRewardTokenEmission:!1,showOtherProjects:!1,rewardTokenContract:null,reaperContract:null,reaperBchBalance:0,reaperBchPerNft:"0",rewardTokenMintAllowance4NewMinter:1e4,addressTo:"",feedbackMessage:"",rewardTokenMintAllowance4Reaper:0,isAdmin:!1,reaperMintPaused:!1,reaperStakingPaused:!1,allowanceToSet:5e6,totalStakedPower:0,baseStakingPower:0,released:0,rewardTokenEmissionPerHour:0,rewardTokenTotalSupply:0,rewardTokenMinted4Reaper:0}},mounted:function(){this.provider=new A.Q(window.ethereum,"any"),this.provider.send("eth_requestAccounts",[]).then((()=>{this.signer=this.provider.getSigner(),this.rewardTokenContract=new Ue.CH(window.RewardTokenAddress,Ie.Mt,this.signer),this.reaperContract=new Ue.CH(window.ReaperAddress,Fe.Mt,this.signer)})).then((()=>{this.reaperContract.showStakerInfo(window.DevAddress).then((e=>{this.totalStakedPower=e[2],this.baseStakingPower=e[3],this.rewardTokenEmissionPerHour=String(Math.round(1e5*Re.dF(e[4]))/1e5)})),this.rewardTokenContract.remainingMintersAllowance(window.ReaperAddress).then((e=>{this.rewardTokenMintAllowance4Reaper=String(e),this.rewardTokenMinted4Reaper=Math.round((5*10**24-Number(this.rewardTokenMintAllowance4Reaper))/10**15)/1e3})),this.rewardTokenContract.totalSupply().then((e=>{this.rewardTokenTotalSupply=String(Math.round(e/10**15)/1e3)}))}))}};const Ar=(0,R.Z)(Sr,[["render",Nr]]);var Ur=Ar;let Rr=(0,a.ri)(F);const Ir=[{path:"/my-reapers",component:Ba},{path:"/all-reapers",component:hs},{path:"/admin",component:He},{path:"/nftMint",component:Ot},{path:"/info",component:fi},{path:"/tokenomics",component:Ur},{path:"/",component:Ot}],Fr=(0,Vt.p7)({history:(0,Vt.PO)(),routes:Ir});Rr.use(Fr),Rr.mount("#app")},8677:function(){},2808:function(){}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var i=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,a,s,i){if(!a){var r=1/0;for(u=0;u<e.length;u++){a=e[u][0],s=e[u][1],i=e[u][2];for(var o=!0,l=0;l<a.length;l++)(!1&i||r>=i)&&Object.keys(n.O).every((function(e){return n.O[e](a[l])}))?a.splice(l--,1):(o=!1,i<r&&(r=i));if(o){e.splice(u--,1);var d=s();void 0!==d&&(t=d)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,s,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,i,r=a[0],o=a[1],l=a[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)var u=l(n)}for(t&&t(a);d<r.length;d++)i=r[d],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},a=self["webpackChunksurviville_staking"]=self["webpackChunksurviville_staking"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(627)}));a=n.O(a)})();
//# sourceMappingURL=app.58d01d27.js.map