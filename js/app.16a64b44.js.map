{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Layout.vue?099d","webpack:///./src/components/NftTop.vue?d5c6","webpack:///./src/App.vue?7b18","webpack:///./src/App.vue","webpack:///./src/components/Layout.vue","webpack:///./src/components/Layout.vue?a8d1","webpack:///./src/App.vue?7b1b","webpack:///./src/components/Admin.vue","webpack:///./src/components/Admin.vue?7be1","webpack:///./src/components/NftMint.vue","webpack:///./src/components/NftMint.vue?6ae9","webpack:///./src/components/Reaper.vue","webpack:///./src/components/Nft.vue","webpack:///./src/components/Nft.vue?f1ad","webpack:///./src/components/NftTop.vue","webpack:///./src/components/NftTop.vue?a424","webpack:///./src/components/Reaper.vue?9e8e","webpack:///./src/main.js","webpack:///./src/components/Reaper.vue?7b12"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_createVNode","_component_Layout","_component_router_view","class","_createElementVNode","href","src","alt","width","_hoisted_9","_hoisted_13","_hoisted_17","data-bs-toggle","aria-haspopup","aria-expanded","tabindex","role","aria-hidden","_hoisted_27","_hoisted_31","_hoisted_6","$data","_createElementBlock","_Fragment","onClick","$options","_ctx","_toDisplayString","_hoisted_25","_hoisted_34","myAddressDisplay","stakingAddress","ReaperAddress","netName","wrongNetwork","mounted","this","provider","ethers","providers","Web3Provider","ethereum","getNetwork","then","network","chainId","netId","request","method","params","utils","hexlify","catch","err","code","chainName","nativeCurrency","decimals","symbol","rpcUrls","rpcServer","blockExplorerUrls","on","location","reload","signer","getSigner","getAddress","address","substring","methods","loginMM","addRewardTokenToMM","type","options","RewardTokenAddress","__exports__","components","Layout","render","_hoisted_5","_hoisted_7","Math","round","_hoisted_8","_hoisted_10","_hoisted_11","disabled","_hoisted_15","_hoisted_16","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_23","rewardTokenContract","reaperContract","reaperBchBalance","reaperIsSvcMinter","isAdmin","reaperPaused","totalStakedPower","baseStakingPower","released","svcEmissionPerHour","registerReaperAsMinter","addMinter","tx","wait","unregisterReaperAsMinter","removeMinter","stakeAdminPause","setPaused","stakeAdminUnpause","withdrawBchFromReaper","withdraw","send","_rewardTokenContract","Contract","RewardToken","abi","_reaperContract","Reaperville","DevAddress","showStakerInfo","stakerInfo","formatEther","getBalance","balance","isPaused","isMinter","_isMinter","target","_hoisted_12","_hoisted_14","stakersAddress","feedbackMessage","bchPerNft","stakersBchBalance","stakersTokenBalance","burnRewardToken","amount","burn","load","getRewardTokenBalance","balanceOf","getBchBalance","mintReaper","bchAmount","mint","parseUnits","toString","gasLimit","gasPrice","myAddress","_womContract","_hoisted_4","_component_NftTop","_component_Nft","nftCA","projectname","id","aria-powanded","aria-labelledby","title","$props","_hoisted_24","_hoisted_32","_hoisted_33","_hoisted_36","_hoisted_37","_hoisted_44","_hoisted_45","style","min","_hoisted_48","_hoisted_50","_hoisted_52","_hoisted_53","_hoisted_54","_renderList","tokenId","image","$event","level","staked","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","max","nftLevelAfterUpgrade","onChange","levelsToUpgrade","Web3","require","reaperTest","levels","reaperTestLevel","initialStakes","reaperInitialStakesTest","pictureLink","nftCollection","removeItemOnce","arr","index","indexOf","console","log","props","emits","rpc","maxLevel","tokenCostPerLevel","tokenCostToBulkUpgrade","powerForLevel","maxNftsPerTx","showLevelingExplanation","currentCollection","stakersTokenAllowanceForLeveling","nftContract","loadingUnstakedNfts","loadingStakedNfts","stakersNfts","filteredNfts","filter","selectedNfts","nftInfo","stakedCount","unstakedCount","picLink","nftLevel","transactionInProgress","paused","refreshPowBalance","selectNft","_tokenId","that","updateCostForBulkUpgrade","updateLevelsToUpgrade","getLevel","floor","getPower","approveRewardToken","approve","constants","MaxUint256","allowance","stake","unstake","selectVisible","clearSelection","stakeSelected","IDs","unstakeSelected","nftsFound","idx","cost","upgradeSpecificNft","_levelsToUpgrade","_rewardTokens","ownerOf","_nftOwner","balanceNew","upgradeLevel","upgradeSelectedNfts","nftsToUpgradeArray","levelsToUpgradeArray","powBalanceAfterUpgrade","calculatePowerIncreaseSolidityV2","startLvl","startPwrX10k","result2","upgrade1NftGasSavings","nftPowerAfterUpgrade","newPwrX10k","newLvl","rewardTokensConsumed","minpwrLevel","getMinPower","minpwrNextLevel","pctInLevelX100AfterUpgrade","filterNfts","_param","unstaked","concat","fillNftInfo","_inArr","_staked","sort","a","b","updateLevels","Promise","resolve","reject","nextBlockToCheck","optionsPower","fromBlock","toBlock","web3HttpReadLevels","stakeContractHttp","eth","getPastEvents","events","item","parseInt","returnValues","newLevel","blockNumber","e","pause","walletOfOwnerStaked","tokens","tokensStaked","iCopy","Number","walletOfOwner","tokensInWallet","_nftContract","_hoisted_3","onUpdateStakingPowerEvent","stakingContract","womEmissionPerHour","stakerStakedForSeconds","SECONDS_PER_DAY","stakersPayoutPct","stakersNextPayoutPct","stakerNextPayoutPctInSeconds","stakersPower","stakerEarningRateX1k","earningsTime","hoursInWords","1","24","168","720","8760","womToHarvest","stakersRewardTokenBalance","harvest","setApprovalForAll","loadStakerInfo","stakedForSeconds","stakedForDays","showStakersEarningsUntilLastTimestamp","showStakersEarningsAfterLastTimestamp","earnings","formatSeconds","seconds","h","dDisplay","hDisplay","mDisplay","sDisplay","loadRewardTokenBalance","userAddress","_stakingContract","Reaper","Nft","NftTop","app","createApp","App","routes","path","component","Admin","NftMint","router","createRouter","history","createWebHistory","use","mount"],"mappings":"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","file":"js/app.16a64b44.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Layout.vue?vue&type=style&index=0&id=bb47574e&lang=css\"","export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./NftTop.vue?vue&type=style&index=0&id=d52f2d56&lang=css\"","export * from \"-!../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=7b2d9ba5&lang=css\"","<template>\r\n  <Layout />\r\n  <router-view/>\r\n</template>\r\n\r\n<script>\r\nimport Layout from \"@/components/Layout\";\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {Layout},\r\n}\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  margin-top: 60px;\r\n}\r\n\r\nselect, #app select:hover {\r\n  outline: 1px solid #6f4ef2;\r\n}\r\n\r\n.loggeed-in-addr-text {\r\n  background: #6F4EF2;\r\n  background: -webkit-linear-gradient(to right, #6F4EF2 0%, #802CB0 100%);\r\n  background: -moz-linear-gradient(to right, #6F4EF2 0%, #802CB0 100%);\r\n  background: linear-gradient(to right, #6F4EF2 0%, #802CB0 100%);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  font-weight: bold;\r\n}\r\n\r\n.top-bid button.harvest-button {\r\n  margin: 0;\r\n}\r\n\r\n.back-to-top {\r\n position: fixed;\r\n bottom: 10px;\r\n right: 10px;\r\n width: 64px;\r\n height: 64px;\r\n z-index: 9999;\r\n cursor: pointer;\r\n text-decoration: none;\r\n transition: opacity 0.2s ease-out;\r\n background-image: url(../public/images/top.png);\r\n display: none;\r\n}\r\n.back-to-top:hover{\r\n opacity: 0.9;\r\n}\r\n\r\n</style>\r\n","<template>\r\n  <div class=\"header\">\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        <div class=\"col-xxl-12\">\r\n          <div class=\"header-content\">\r\n            <div class=\"header-left\">\r\n              <div class=\"brand-logo\">\r\n                <a class=\"mini-logo\" href=\"./\">\r\n                  <img src=\"images/logo.png\" alt=\"\" width=\"40\" />\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div class=\"header-right\">\r\n              <!-- <div class=\"dark-light-toggle theme-switch\" onclick=\"themeToggle()\">\r\n                <span class=\"dark\"><i class=\"ri-moon-line\"></i></span>\r\n                <span class=\"light\"><i class=\"ri-sun-line\"></i></span>\r\n              </div> -->\r\n              <template v-if=\"!myAddressDisplay && !wrongNetwork\">\r\n                <div class=\"dark-light-toggle theme-switch\">\r\n                  <a\r\n                    @click=\"addRewardTokenToMM\"\r\n                    class=\"btn btn-outline-secondary btn-sm\"\r\n                    ><img src=\"images/metamask-icon-32.png\" /> Add WoM</a\r\n                  >\r\n                </div>\r\n                <div class=\"dark-light-toggle theme-switch\">\r\n                  <a\r\n                    @click=\"addPowToMM\"\r\n                    class=\"btn btn-outline-secondary btn-sm\"\r\n                    ><img src=\"images/metamask-icon-32.png\" /> Add POW</a\r\n                  >\r\n                </div>\r\n              </template>\r\n              <div\r\n                class=\"dark-light-toggle theme-switch\"\r\n                v-if=\"!myAddressDisplay && !wrongNetwork\"\r\n              >\r\n                <a @click=\"loginMM\" class=\"btn btn-primary btn-sm\"\r\n                  ><img src=\"images/metamask-icon-32.png\" /> Login</a\r\n                >\r\n              </div>\r\n              <div class=\"dark-light-toggle theme-switch\" v-if=\"wrongNetwork\">\r\n                <strong>Please switch the network to {{ netName }}.</strong>\r\n              </div>\r\n              <div class=\"dropdown profile_log dropdown\">\r\n                <div\r\n                  data-bs-toggle=\"dropdown\"\r\n                  aria-haspopup=\"true\"\r\n                  class=\"\"\r\n                  aria-expanded=\"false\"\r\n                >\r\n                  <div class=\"user icon-menu active loggeed-in-addr-text\">\r\n                    <span>{{ myAddressDisplay }}</span>\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  tabindex=\"-1\"\r\n                  role=\"menu\"\r\n                  aria-hidden=\"true\"\r\n                  class=\"dropdown-menu dropdown-menu-right\"\r\n                >\r\n                  <a class=\"dropdown-item\" href=\"./reaper\">\r\n                    <span><i class=\"ri-user-3-fill\"></i></span>My Reaperville\r\n                    NFTs\r\n                  </a>\r\n                  <a\r\n                    class=\"dropdown-item\"\r\n                    v-bind:href=\"\r\n                      'https://www.smartscan.cash/address/' + stakingAddress\r\n                    \"\r\n                  >\r\n                    <span><i class=\"ri-search-eye-line\"></i></span>View\r\n                    Contract Activity\r\n                  </a>\r\n                  <div class=\"dark-light-toggle theme-switch\">\r\n                    <a\r\n                      @click=\"addRewardTokenToMM\"\r\n                      class=\"btn btn-outline-secondary btn-sm\"\r\n                      ><img src=\"images/metamask-icon-32.png\" /> Add SVC</a\r\n                    >\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"sidebar\">\r\n    <div class=\"brand-logo\">\r\n      <a class=\"full-logo\" href=\"./\"\r\n        ><img src=\"images/logo.png\" alt=\"\" width=\"40\"\r\n      /></a>\r\n    </div>\r\n    <div class=\"menu\">\r\n      <ul>\r\n        <li>\r\n          <a href=\"./nftMint\">\r\n            <span><i class=\"ri-gift-fill\"></i></span>\r\n            <span class=\"nav-text\">NFT Mint</span>\r\n          </a>\r\n        </li>\r\n        <li>\r\n          <a href=\"./reaper\">\r\n            <span><i class=\"ri-user-3-fill\"></i></span>\r\n            <span class=\"nav-text\">NFTs</span>\r\n          </a>\r\n        </li>\r\n        <!-- <li>\r\n          <a href=\"./admin\">\r\n            <span><i class=\"ri-settings-3-fill\"></i></span>\r\n            <span class=\"nav-text\">Admin</span>\r\n          </a>\r\n        </li> -->\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ethers } from \"ethers\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      myAddressDisplay: null,\r\n\r\n      stakingAddress: window.ReaperAddress,\r\n      netName: window.netName,\r\n      wrongNetwork: false,\r\n    };\r\n  },\r\n  mounted: function () {\r\n    this.provider = new ethers.providers.Web3Provider(window.ethereum, \"any\");\r\n    this.provider.getNetwork().then((network) => {\r\n      if (network.chainId !== window.netId) {\r\n        this.wrongNetwork = true;\r\n        window.ethereum\r\n          .request({\r\n            method: \"wallet_switchEthereumChain\",\r\n            params: [{ chainId: ethers.utils.hexlify(window.netId) }],\r\n          })\r\n          .catch((err) => {\r\n            // This error code indicates that the chain has not been added to MetaMask\r\n            if (err.code === 4902) {\r\n              // dispatch(connectFailed(`Add ${window.netName} to Metamask and then reload this website.`));\r\n              window.ethereum.request({\r\n                method: \"wallet_addEthereumChain\",\r\n                params: [\r\n                  {\r\n                    chainName: window.netName,\r\n                    chainId: ethers.utils.hexlify(window.netId),\r\n                    nativeCurrency: {\r\n                      name: \"BCH\",\r\n                      decimals: 18,\r\n                      symbol: \"BCH\",\r\n                    },\r\n                    rpcUrls: [window.rpcServer],\r\n                    blockExplorerUrls: [\"https://smartscan.cash/\"],\r\n                  },\r\n                ],\r\n              });\r\n            }\r\n          });\r\n      }\r\n    });\r\n    this.provider.on(\"network\", (n, o) => {\r\n      if (o) {\r\n        window.location.reload();\r\n      }\r\n    });\r\n    this.signer = this.provider.getSigner();\r\n    this.signer.getAddress().then((address) => {\r\n      this.myAddressDisplay =\r\n        address.substring(0, 5) +\r\n        \"...\" +\r\n        address.substring(address.length - 5, address.length);\r\n    });\r\n  },\r\n  methods: {\r\n    loginMM: function () {\r\n      window.location.reload();\r\n    },\r\n\r\n    addRewardTokenToMM: function () {\r\n      window.ethereum.request({\r\n        method: \"wallet_watchAsset\",\r\n        params: {\r\n          type: \"ERC20\",\r\n          options: {\r\n            address: window.RewardTokenAddress,\r\n            symbol: \"WoM\",\r\n            decimals: 18,\r\n          },\r\n        },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  margin-top: 60px;\r\n}\r\n</style>","import { render } from \"./Layout.vue?vue&type=template&id=bb47574e\"\nimport script from \"./Layout.vue?vue&type=script&lang=js\"\nexport * from \"./Layout.vue?vue&type=script&lang=js\"\n\nimport \"./Layout.vue?vue&type=style&index=0&id=bb47574e&lang=css\"\n\nimport exportComponent from \"/home/martin/Documents/coding/reaperville-staking/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=7b2d9ba5\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=7b2d9ba5&lang=css\"\n\nimport exportComponent from \"/home/martin/Documents/coding/reaperville-staking/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"content-body\">\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        <div class=\"col-xxl-12\">\r\n          <div>\r\n            <h2 class=\"mb-0\">Reaperville Staking Statistics</h2>\r\n            <p>\r\n              Earnable reward tokens: 5 million in total for Reaperville\r\n              collection, 1 million in first year, 2.5 million in first 3 years\r\n            </p>\r\n            <p>SVC Total max. supply: 210 million</p>\r\n            <p>Total staked power: {{ totalStakedPower }}</p>\r\n            <p>Base staking power: {{ baseStakingPower }}</p>\r\n            <!-- <p>Released SVC by contract: {{ released }}</p> -->\r\n            <p>Total emission rate: {{ svcEmissionPerHour }} SVC / hour</p>\r\n            <p>\r\n              =\r\n              {{ Math.round((svcEmissionPerHour * 24 * 365) / 1000) / 1000 }}\r\n              million SVC / year\r\n            </p>\r\n\r\n            <h1 class=\"mb-0\">---Everything below this line is ADMIN ONLY---</h1>\r\n            <h2 v-if=\"!isAdmin\">(You are not logged into the admin wallet)</h2>\r\n            <h2 v-else>(YOU ARE THE ADMIN)</h2>\r\n\r\n            <h2 class=\"mb-0\">Register Reaper Contract as Token Minter</h2>\r\n            <div>\r\n              Reaperville is minter: <strong>{{ reaperIsSvcMinter }}</strong>\r\n            </div>\r\n            <div>\r\n              <button\r\n                class=\"btn btn-danger\"\r\n                type=\"button\"\r\n                :disabled=\"!reaperIsSvcMinter\"\r\n                @click=\"unregisterReaperAsMinter\"\r\n              >\r\n                Unregister as minter\r\n              </button>\r\n              &nbsp;\r\n              <button\r\n                class=\"btn btn-success\"\r\n                type=\"button\"\r\n                :disabled=\"reaperIsSvcMinter\"\r\n                @click=\"registerReaperAsMinter\"\r\n              >\r\n                Register as minter\r\n              </button>\r\n            </div>\r\n            <br />\r\n\r\n            <h4>Reaper Contract Balances</h4>\r\n            <p>\r\n              {{\r\n                Math.round(reaperBchBalance / 10 ** 15) / 10 ** 3\r\n              }}\r\n              BCH\r\n            </p>\r\n            <div>\r\n              <button\r\n                class=\"btn btn-primary\"\r\n                type=\"button\"\r\n                :disabled=\"reaperBchBalance <= 0\"\r\n                @click=\"withdrawBchFromReaper\"\r\n              >\r\n                withdraw BCH\r\n              </button>\r\n            </div>\r\n\r\n            <br />\r\n\r\n            <h2 class=\"mb-0\">Pause Staking Contract</h2>\r\n            Staking is active: {{ !reaperPaused }}\r\n            <p>\r\n              <button\r\n                @click=\"stakeAdminPause\"\r\n                :disabled=\"reaperPaused\"\r\n                class=\"btn btn-danger\"\r\n              >\r\n                Pause\r\n              </button>\r\n              &nbsp;\r\n              <button\r\n                @click=\"stakeAdminUnpause\"\r\n                :disabled=\"!reaperPaused\"\r\n                class=\"btn btn-success\"\r\n              >\r\n                Unpause\r\n              </button>\r\n            </p>\r\n            <!-- <p>\r\n              <button @click=\"resetBoosts\" class=\"btn btn-warning\">Reset boosts</button>\r\n            </p> -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ethers } from \"ethers\";\r\nimport RewardToken from \"../../artifacts/contracts/RewardToken.sol/RewardToken.json\";\r\nimport Reaperville from \"../../artifacts/contracts/Reaperville.sol/Reaperville.json\";\r\n\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      rewardTokenContract: null,\r\n      reaperContract: null,\r\n\r\n      reaperBchBalance: 0,\r\n\r\n      reaperIsSvcMinter: false,\r\n\r\n      isAdmin: false,\r\n\r\n      reaperPaused: false,\r\n      totalStakedPower: null,\r\n      baseStakingPower: null,\r\n      released: null,\r\n      svcEmissionPerHour: null,\r\n    };\r\n  },\r\n  methods: {\r\n    registerReaperAsMinter: async function () {\r\n      let tx = await this.rewardTokenContract.addMinter(window.ReaperAddress);\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n    unregisterReaperAsMinter: async function () {\r\n      let tx = await this.rewardTokenContract.removeMinter(\r\n        window.ReaperAddress\r\n      );\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n\r\n    stakeAdminPause: async function () {\r\n      let tx = await this.reaperContract.setPaused(true);\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n    stakeAdminUnpause: async function () {\r\n      let tx = await this.reaperContract.setPaused(false);\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n\r\n    withdrawBchFromReaper: async function () {\r\n      let tx = await this.reaperContract.withdraw();\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n  },\r\n  mounted: function () {\r\n    this.provider = new ethers.providers.Web3Provider(window.ethereum, \"any\");\r\n    this.provider\r\n      .send(\"eth_requestAccounts\", [])\r\n      .then(() => {\r\n        this.signer = this.provider.getSigner();\r\n        let _rewardTokenContract = new ethers.Contract(\r\n          window.RewardTokenAddress,\r\n          RewardToken.abi,\r\n          this.provider.getSigner()\r\n        );\r\n        let _reaperContract = new ethers.Contract(\r\n          window.ReaperAddress,\r\n          Reaperville.abi,\r\n          this.provider.getSigner()\r\n        );\r\n        // let _flexUsdContract = new ethers.Contract(\r\n        //   window.FlexUsdAddress,\r\n        //   RewardToken.abi,\r\n        //   this.provider.getSigner()\r\n        // );\r\n\r\n        this.rewardTokenContract = _rewardTokenContract;\r\n        this.reaperContract = _reaperContract;\r\n        // this.flexUsdTokenContract = _flexUsdContract;\r\n      })\r\n      .then(() => {\r\n        this.signer.getAddress().then((address) => {\r\n          if (address === window.DevAddress) {\r\n            this.isAdmin = true;\r\n          }\r\n        });\r\n        this.reaperContract\r\n          .showStakerInfo(window.DevAddress)\r\n          .then((stakerInfo) => {\r\n            this.totalStakedPower = stakerInfo[2];\r\n            this.baseStakingPower = stakerInfo[3];\r\n            this.svcEmissionPerHour =\r\n              Math.round(ethers.utils.formatEther(stakerInfo[4]) * 100000) /\r\n              100000;\r\n          });\r\n        this.provider.getBalance(window.ReaperAddress).then((balance) => {\r\n          this.reaperBchBalance = balance;\r\n        });\r\n        this.reaperContract.isPaused().then((isPaused) => {\r\n          this.reaperPaused = isPaused;\r\n        });\r\n\r\n        this.rewardTokenContract\r\n          .isMinter(window.ReaperAddress)\r\n          .then((_isMinter) => {\r\n            this.reaperIsSvcMinter = _isMinter;\r\n          });\r\n      });\r\n  },\r\n};\r\n</script>","import { render } from \"./Admin.vue?vue&type=template&id=4cf84b74\"\nimport script from \"./Admin.vue?vue&type=script&lang=js\"\nexport * from \"./Admin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/martin/Documents/coding/reaperville-staking/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"content-body\">\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        <div class=\"col-xxl-12\">\r\n          <h2>NFT Minting</h2>\r\n          <p>\r\n            Mint some Reaperville NFTs on the testnet for\r\n            {{ bchPerNft }} testnet BCH!\r\n          </p>\r\n          <button @click=\"mintReaper(40)\" class=\"btn btn-primary\">\r\n            Mint 40\r\n          </button>\r\n          &nbsp;\r\n          <button @click=\"mintReaper(25)\" class=\"btn btn-primary\">\r\n            Mint 25\r\n          </button>\r\n          &nbsp;\r\n          <button @click=\"mintReaper(5)\" class=\"btn btn-primary\">Mint 5</button>\r\n          <br />\r\n          <br />\r\n          <br />\r\n          {{ feedbackMessage }}\r\n          <br />\r\n          <br />\r\n          <br />\r\n\r\n          <h2>Free Testnet BCH</h2>\r\n          <p>\r\n            Your current BCH balance:\r\n            {{ Math.round(stakersBchBalance / 10 ** 15) / 10 ** 3 }} BCH\r\n          </p>\r\n          <br />\r\n          <p>\r\n            If you need testnet BCH, please claim it for free at:\r\n            <a href=\"http://54.169.31.93:8080/faucet\" target=\"_blank\"\r\n              >http://54.169.31.93:8080/faucet</a\r\n            >\r\n          </p>\r\n          <br />\r\n\r\n          <div class=\"col-xxl-12\">\r\n            <h2>For test purposes, you can burn Surviville Coins here:</h2>\r\n            <p>\r\n              Your SVC token balance:\r\n              {{ Math.round(stakersTokenBalance / 10 ** 15) / 10 ** 3 }} SVC\r\n            </p>\r\n            <button @click=\"burnRewardToken(0)\" class=\"btn btn-primary\">\r\n              Burn My SVC\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ethers } from \"ethers\";\r\nimport Reaperville from \"../../artifacts/contracts/Reaperville.sol/Reaperville.json\";\r\nimport RewardToken from \"../../artifacts/contracts/RewardToken.sol/RewardToken.json\";\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      provider: null,\r\n      signer: null,\r\n\r\n      stakersAddress: \"\",\r\n      feedbackMessage: \"\",\r\n\r\n      rewardTokenContract: null,\r\n\r\n      bchPerNft: 0.02,\r\n\r\n      stakersBchBalance: 0,\r\n      stakersTokenBalance: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    burnRewardToken: async function (amount) {\r\n      this.feedbackMessage = \"\";\r\n      if (amount == 0) {\r\n        amount = this.stakersTokenBalance;\r\n      }\r\n      if (amount == 0) {\r\n        this.feedbackMessage = \"Nothing to burn!\";\r\n        return false;\r\n      }\r\n      let tx = await this.rewardTokenContract.burn(amount);\r\n      await tx.wait();\r\n      this.load();\r\n    },\r\n\r\n    getRewardTokenBalance: function () {\r\n      this.rewardTokenContract\r\n        .balanceOf(this.stakersAddress)\r\n        .then((balance) => {\r\n          this.stakersTokenBalance = balance;\r\n        });\r\n    },\r\n\r\n    getBchBalance: function () {\r\n      this.provider.getBalance(this.stakersAddress).then((balance) => {\r\n        this.stakersBchBalance = balance;\r\n      });\r\n    },\r\n\r\n    mintReaper: async function (amount) {\r\n      let bchAmount = this.bchPerNft * amount;\r\n      if (bchAmount > this.stakersBchBalance/10**3) {\r\n        this.feedbackMessage = \"Not enough BCH!\";\r\n        return false;\r\n      }\r\n      this.feedbackMessage = \"Minting NFTs. Please wait!\";\r\n      let c = new ethers.Contract(\r\n        window.ReaperAddress,\r\n        Reaperville.abi,\r\n        this.provider.getSigner()\r\n      );\r\n      let tx = await c.mint(amount, {\r\n        value: ethers.utils.parseUnits(bchAmount.toString(), \"ether\"),\r\n        gasLimit: 9999999,\r\n        gasPrice: 1046740000,\r\n      });\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n\r\n    load: async function () {\r\n      this.signer.getAddress().then((myAddress) => {\r\n        this.stakersAddress = myAddress;\r\n        this.getBchBalance();\r\n        this.getRewardTokenBalance();\r\n      });\r\n    },\r\n  },\r\n  mounted: function () {\r\n    this.provider = new ethers.providers.Web3Provider(window.ethereum, \"any\");\r\n    this.provider\r\n      .send(\"eth_requestAccounts\", [])\r\n      .then(() => {\r\n        this.signer = this.provider.getSigner();\r\n\r\n        let _womContract = new ethers.Contract(\r\n          window.RewardTokenAddress,\r\n          RewardToken.abi,\r\n          this.provider.getSigner()\r\n        );\r\n\r\n        this.rewardTokenContract = _womContract;\r\n      })\r\n      .then(() => {\r\n        this.load();\r\n      });\r\n  },\r\n};\r\n</script>","import { render } from \"./NftMint.vue?vue&type=template&id=8bbd668e\"\nimport script from \"./NftMint.vue?vue&type=script&lang=js\"\nexport * from \"./NftMint.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/martin/Documents/coding/reaperville-staking/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"content-body\">\r\n    <div class=\"container text-start\">\r\n      <div class=\"row\">\r\n        <div class=\"col-xxl-6\">\r\n          <div class=\"promotion d-flex justify-content-between align-items-center\">\r\n            <div class=\"promotion-detail\">\r\n              <h3 class=\"text-white mb-3\">Reaperville NFTs</h3>\r\n              <p>\r\n                This is the internal beta test for staking and leveling of Reaperville NFTs. Please report any issues you find in the internal Telegram group!\r\n              </p>\r\n              <a href=\"https://oasis.cash/collection/0x4f0A64a905EEeB70810a079019Fd23586eca5268\" target=\"_blank\"\r\n                class=\"btn btn-secondary me-3\">Buy on Oasis</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-xxl-6\">\r\n          <div class=\"card top-bid\">\r\n            <div class=\"card-body\">\r\n              <div class=\"row align-items-center\">\r\n                <NftTop />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <Nft v-bind:nftCA=\"nftContract\" projectname=\"Reaperville\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Nft from \"@/components/Nft.vue\";\r\nimport NftTop from \"@/components/NftTop.vue\";\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: { Nft, NftTop },\r\n  data() {\r\n    return {\r\n      nftContract: window.ReaperAddress,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  margin-top: 60px;\r\n}\r\n</style>\r\n","<template>\r\n  <template v-if=\"stakersAddress === null\">\r\n    <div class=\"text-center\">\r\n      Please log into Metamask first, then refresh this website...\r\n    </div>\r\n  </template>\r\n\r\n  <template\r\n    v-if=\"\r\n      loadingStakedNfts === true &&\r\n      loadingUnstakedNfts === true &&\r\n      stakersAddress !== null\r\n    \"\r\n  >\r\n    <div class=\"text-center\">Loading NFTs...</div>\r\n  </template>\r\n\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-6\">\r\n        <h2 class=\"text-start\">{{ projectname }}</h2>\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-4 col-sm-12 col-xs-12\">\r\n            <ul class=\"settings-menu\">\r\n              <button\r\n                class=\"btn btn-primary\"\r\n                type=\"button\"\r\n                id=\"collection-filter\"\r\n                data-bs-toggle=\"dropdown\"\r\n                aria-powanded=\"false\"\r\n              >\r\n                Filter\r\n              </button>\r\n              <ul class=\"dropdown-menu\" aria-labelledby=\"collection-filter\">\r\n                <li>\r\n                  <a\r\n                    class=\"dropdown-item\"\r\n                    href=\"#\"\r\n                    @click=\"filterNfts('all')\"\r\n                    v-bind:class=\"filter === null ? 'current' : ''\"\r\n                    >All ({{ stakersNfts.length }})</a\r\n                  >\r\n                </li>\r\n                <li>\r\n                  <a\r\n                    class=\"dropdown-item\"\r\n                    href=\"#\"\r\n                    @click=\"filterNfts('staked')\"\r\n                    v-bind:class=\"filter === 'staked' ? 'current' : ''\"\r\n                    >Staked ({{ stakedCount }})</a\r\n                  >\r\n                </li>\r\n                <li>\r\n                  <a\r\n                    class=\"dropdown-item\"\r\n                    href=\"#\"\r\n                    @click=\"filterNfts('unstaked')\"\r\n                    v-bind:class=\"filter === 'unstaked' ? 'current' : ''\"\r\n                    >Unstaked ({{ unstakedCount }})</a\r\n                  >\r\n                </li>\r\n              </ul>\r\n\r\n              <!-- &nbsp;\r\n                <button class=\"btn btn-primary\" type=\"button\" id=\"rpc-selector\" data-bs-toggle=\"dropdown\"\r\n                  aria-powanded=\"false\">\r\n                  rpc server\r\n                </button>\r\n                <ul class=\"dropdown-menu\" aria-labelledby=\"rpc-selector\">\r\n                  <li>\r\n                    <a class=\"dropdown-item\" href=\"#\" @click=\"setRpcIndex(0)\"\r\n                      v-bind:class=\"rpcIndex === 0 ? 'current' : ''\">{{ rpcs[0] }}</a>\r\n                  </li>\r\n                  <li>\r\n                    <a class=\"dropdown-item\" href=\"#\" @click=\"setRpcIndex(1)\"\r\n                      v-bind:class=\"rpcIndex === 1 ? 'current' : ''\">{{ rpcs[1] }}</a>\r\n                  </li>\r\n                  <li>\r\n                    <a class=\"dropdown-item\" href=\"#\" @click=\"setRpcIndex(2)\"\r\n                      v-bind:class=\"rpcIndex === 2 ? 'current' : ''\">{{ rpcs[2] }}</a>\r\n                  </li>\r\n                  <li>\r\n                    <a class=\"dropdown-item\" href=\"#\" @click=\"setRpcIndex(3)\"\r\n                      v-bind:class=\"rpcIndex === 3 ? 'current' : ''\">{{ rpcs[3] }}</a>\r\n                  </li>\r\n                  <li>\r\n                    <a class=\"dropdown-item\" href=\"#\" @click=\"setRpcIndex(4)\"\r\n                      v-bind:class=\"rpcIndex === 4 ? 'current' : ''\">{{ rpcs[4] }}</a>\r\n                  </li>\r\n                  <li>\r\n                    <a class=\"dropdown-item\" href=\"#\" @click=\"setRpcIndex(5)\"\r\n                      v-bind:class=\"rpcIndex === 5 ? 'current' : ''\">{{ rpcs[5] }}</a>\r\n                  </li>\r\n                </ul> -->\r\n\r\n              &nbsp;\r\n              <button\r\n                v-if=\"showLevelingExplanation && stakersTokenBalance > 0\"\r\n                @click=\"showLevelingExplanation = false\"\r\n                class=\"btn btn-primary\"\r\n              >\r\n                Hide Explanation\r\n              </button>\r\n              <button\r\n                v-if=\"!showLevelingExplanation && stakersTokenBalance > 0\"\r\n                @click=\"showLevelingExplanation = true\"\r\n                class=\"btn btn-primary\"\r\n              >\r\n                Show Explanation\r\n              </button>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- <div class=\"row\">\r\n        <div class=\"col-xxl-6\">\r\n          <div class=\"card top-bid\">\r\n            <div class=\"card-body\">\r\n              <div class=\"row align-items-center\">\r\n                <div class=\"col align-items-center\">\r\n                  <div class=\"col-12 text-center\">\r\n                    <div class=\"row text-center\">\r\n                      <h4>This box is only visible in the beta test:</h4>\r\n                    </div>\r\n                  </div>\r\n                  <br />\r\n                  <input type=\"number\" @input=\"updateCostForBulkUpgrade\" @change=\"updateCostForBulkUpgrade\" min=\"1\"\r\n                    :max=\"Math.min(stakersTokenBalance, 2 ** 24 - 1)\" v-model=\"levelsToUpgrade\"\r\n                    :disabled=\"stakersTokenBalance <= 0 || stakersTokenAllowanceForLeveling <= 0\" />\r\n                  <input type=\"range\" class=\"form-control-range\" min=\"1\" :max=\"Math.min(stakersTokenBalance, 2 ** 24 - 1)\"\r\n                    id=\"rewardTokensForUpgradeSlider\" v-model=\"levelsToUpgrade\" @change=\"updateCostForBulkUpgrade\"\r\n                    :disabled=\"stakersTokenBalance <= 0 || stakersTokenAllowanceForLeveling <= 0\">\r\n                  <button @click=\"upgradeSelectedNfts()\" class=\"btn btn-success\"\r\n                    :disabled=\"selectedNfts.length <= 0 || stakersTokenBalance <= 0\" style=\"font-size : 14px;\">\r\n                    Upgrade {{ Math.min(selectedNfts.length, maxNftsPerTx) }}\r\n                  </button>\r\n                  <p v-if=\"selectedNfts.length > maxNftsPerTx\">Note: {{ maxNftsPerTx }} NFTs max</p>\r\n                  <template v-if=\"nftPowerAfterUpgrade > 0\">\r\n                    <br />\r\n                    <h5>Upgrade Preview:</h5>\r\n                    <h6>Cost: {{ powBalanceBeforeUpgrade - powBalanceAfterUpgrade }} SVC (Balance: {{\r\n                        powBalanceBeforeUpgrade\r\n                    }} SVC -> {{ powBalanceAfterUpgrade }} SVC)</h6>\r\n                    <h6>NFT power: {{ nftPowerBeforeUpgrade / 10000\r\n                    }} (level {{ nftLevelBeforeUpgrade }} - min: {{ getMinPower(nftLevelBeforeUpgrade) / 10000 }} -\r\n                      max:\r\n                      {{ (getMinPower(nftLevelBeforeUpgrade + 1) - 1) / 10000 }})</h6>\r\n                    <h6>NFT power: {{ nftPowerAfterUpgrade / 10000 }}\r\n                      (level {{ nftLevelAfterUpgrade }} - min: {{ getMinPower(nftLevelAfterUpgrade) / 10000 }} - max:\r\n                      {{ (getMinPower(nftLevelAfterUpgrade + 1) - 1) / 10000 }})</h6>\r\n                  </template>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <br /> -->\r\n\r\n    <template v-if=\"transactionInProgress\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-12 text-center\">\r\n            Waiting for current transaction to finish...\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </template>\r\n\r\n    <div class=\"row text-center\">\r\n      <h4>{{ feedbackMessage }}</h4>\r\n    </div>\r\n    <br />\r\n\r\n    <div v-if=\"stakersTokenAllowanceForLeveling <= 0\" class=\"row\">\r\n      <div class=\"col-xxl-6\">\r\n        <div class=\"card top-bid\">\r\n          <div class=\"card-body\">\r\n            <div class=\"row align-items-center\">\r\n              <div class=\"col align-items-center\">\r\n                <span\r\n                  >Before you can upgrade your NFTs, you need to approve the SVC\r\n                  token once.</span\r\n                >\r\n                <button\r\n                  class=\"btn btn-primary\"\r\n                  type=\"button\"\r\n                  id=\"approveRewardToken\"\r\n                  @click=\"approveRewardToken\"\r\n                >\r\n                  approve SVC\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"showLevelingExplanation || stakersTokenBalance <= 0\" class=\"row\">\r\n      <div class=\"col-xxl-6\">\r\n        <div class=\"card top-bid\">\r\n          <div class=\"card-body\">\r\n            <div class=\"row align-items-center\">\r\n              <div class=\"col align-items-center\">\r\n                <h4>NFT Level Upgrades</h4>\r\n                <ul>\r\n                  <li>\r\n                    You can permanently increase the staking power of your NFTs\r\n                    by upgrading the levels of any NFT you own.\r\n                  </li>\r\n                  <li>\r\n                    For level upgrades you need SVC tokens which you can earn by\r\n                    staking your NFTs or by buying them on MistSwap.\r\n                  </li>\r\n                  <!-- <span>Each level upgrade increases the staking power of your upgraded NFTs permanently. </span> -->\r\n                  <li>\r\n                    Each level upgrade costs <strong>100 SVC tokens. </strong>\r\n                  </li>\r\n                  <li>\r\n                    The maximum level is <strong>{{ maxLevel }}. </strong>\r\n                  </li>\r\n                  <li>\r\n                    Use the slider to select the level you want to upgrade to.\r\n                    The website shows you a preview of the power after the\r\n                    upgrade.\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-xxl-6\">\r\n        <div class=\"card top-bid\">\r\n          <div class=\"card-body\">\r\n            <div class=\"row align-items-center\">\r\n              <div class=\"col align-items-center\">\r\n                <h4>Automatic Harvests and Pure Harvests</h4>\r\n                <ul>\r\n                  <li>\r\n                    Whenever you stake, unstake or upgrade one or multiple NFTs,\r\n                    a harvest of SVC reward tokens is automatically executed.\r\n                  </li>\r\n                  <li>\r\n                    Additionally, you can harvest SVC reward tokens whenever you\r\n                    want. This operation is called a\r\n                    <strong>pure harvest.</strong>\r\n                  </li>\r\n                </ul>\r\n                <br />\r\n                <h4>Harvest Penalties and Bonuses</h4>\r\n                <h6>Penalties</h6>\r\n                <ul>\r\n                  <li>\r\n                    If you harvest within the first 20 days of staking, the\r\n                    amount is reduced with a penalty.\r\n                  </li>\r\n                  <li>\r\n                    The penalty applies to both automatic and pure harvests.\r\n                  </li>\r\n                  <li>\r\n                    Within the first day of staking, the penalty is 95% of the\r\n                    harvest amount.\r\n                  </li>\r\n                  <li>\r\n                    For each subsequent full day of staking, the penalty\r\n                    percentage is reduced by 5%.\r\n                  </li>\r\n                  <li>\r\n                    That means, you will receive 10% after a full day of\r\n                    staking, 15% after 2 full days and so on.\r\n                  </li>\r\n                  <li>\r\n                    After 19 full days of staking your NFTs, you will receive\r\n                    100% of the harvest amount (no penalties).\r\n                  </li>\r\n                </ul>\r\n                <br />\r\n                <h6>Bonus</h6>\r\n                <ul>\r\n                  <li>\r\n                    But wait, that's not all: After 30 full days of staking, you\r\n                    will receive a 15% bonus. \r\n                  </li>\r\n                  <li>\r\n                    Note that each pure harvest and each unstake will reset the\r\n                    penalties and bonuses cycle. A stake or level upgrade will\r\n                    <strong>not</strong> reset the cycle.\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-12\">\r\n      <div class=\"card filter-tab\">\r\n        <div class=\"card-body bs-0 p-0 bg-transparent\">\r\n          <div class=\"row\">\r\n            <div class=\"col-xxl-12 col-xl-12 col-lg-12 col-md-12 col-sm-12\">\r\n              <div class=\"card-body\">\r\n                <h4 v-if=\"selectedNfts.length == 1\">\r\n                  1 NFT selected -- Balance:\r\n                  {{ Math.round(stakersTokenBalance / 10 ** 15) / 1000 }} SVC\r\n                  &nbsp;\r\n                  <i\r\n                    title=\"Refresh SVC Balance\"\r\n                    @click=\"refreshPowBalance\"\r\n                    class=\"ri-refresh-line\"\r\n                  ></i>\r\n                </h4>\r\n                <h4 v-else>\r\n                  {{ selectedNfts.length }} NFTs selected -- Balance:\r\n                  {{ Math.round(stakersTokenBalance / 10 ** 15) / 1000 }} SVC\r\n                  <i\r\n                    title=\"Refresh SVC Balance\"\r\n                    @click=\"refreshPowBalance\"\r\n                    class=\"ri-refresh-line\"\r\n                  ></i>\r\n                </h4>\r\n                <button\r\n                  @click=\"selectVisible\"\r\n                  class=\"btn btn-success\"\r\n                  style=\"font-size: 14px\"\r\n                >\r\n                  Select all\r\n                </button>\r\n                &nbsp;\r\n                <button\r\n                  @click=\"clearSelection\"\r\n                  class=\"btn btn-danger\"\r\n                  style=\"font-size: 14px\"\r\n                >\r\n                  Clear selection\r\n                </button>\r\n                &nbsp;\r\n                <button\r\n                  @click=\"upgradeSelectedNfts()\"\r\n                  class=\"btn btn-success\"\r\n                  :disabled=\"\r\n                    selectedNfts.length <= 0 ||\r\n                    stakersTokenAllowanceForLeveling <= 0 ||\r\n                    stakersTokenBalance <= 0 ||\r\n                    paused\r\n                  \"\r\n                  style=\"font-size: 14px\"\r\n                >\r\n                  Upgrade {{ Math.min(selectedNfts.length, maxNftsPerTx) }} for\r\n                  {{ tokenCostToBulkUpgrade }}\r\n                  SVC\r\n                </button>\r\n                &nbsp;\r\n                <button\r\n                  @click=\"stakeSelected\"\r\n                  class=\"btn btn-success\"\r\n                  :disabled=\"selectedNfts.length <= 0 || paused\"\r\n                  style=\"font-size: 14px\"\r\n                >\r\n                  Stake {{ Math.min(selectedNfts.length, maxNftsPerTx) }}\r\n                </button>\r\n                &nbsp;\r\n                <button\r\n                  @click=\"unstakeSelected\"\r\n                  class=\"btn btn-danger\"\r\n                  :disabled=\"selectedNfts.length <= 0 || paused\"\r\n                  style=\"font-size: 14px\"\r\n                >\r\n                  Unstake {{ Math.min(selectedNfts.length, maxNftsPerTx) }}\r\n                </button>\r\n                <p v-if=\"selectedNfts.length > maxLevel\">\r\n                  Note: {{ maxLevel }} NFTs max staking and unstaking in 1\r\n                  transaction\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <br />\r\n\r\n          <div class=\"row\">\r\n            <template\r\n              v-if=\"\r\n                loadingStakedNfts === false &&\r\n                loadingUnstakedNfts === false &&\r\n                stakersNfts.length <= 0\r\n              \"\r\n            >\r\n              <h1 class=\"text-center\">No NFTs to display</h1>\r\n            </template>\r\n\r\n            <div\r\n              class=\"col-xxl-3 col-xl-4 col-lg-4 col-md-6 col-sm-6\"\r\n              v-for=\"tokenId in filteredNfts\"\r\n              :key=\"tokenId\"\r\n            >\r\n              <div class=\"card items\">\r\n                <div class=\"card-body\">\r\n                  <div class=\"items-img position-relative\">\r\n                    <img\r\n                      :src=\"nftInfo[tokenId].image\"\r\n                      class=\"img-fluid rounded mb-3\"\r\n                      alt=\"\"\r\n                      @click=\"selectNft(tokenId)\"\r\n                    />\r\n                  </div>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    :value=\"tokenId\"\r\n                    v-model=\"selectedNfts\"\r\n                    @click=\"selectNft(tokenId)\"\r\n                  />\r\n                  &nbsp;\r\n                  <label>\r\n                    <h4 class=\"card-title\">\r\n                      #{{ tokenId }}\r\n                      &nbsp;\r\n                      <span title=\"current level\"\r\n                        >{{ nftInfo[tokenId].level }}</span\r\n                      >\r\n                      &nbsp;\r\n                      <span title=\"current staking power\"\r\n                        >{{ powerForLevel[nftInfo[tokenId].level] }}</span\r\n                      >\r\n                    </h4>\r\n                  </label>\r\n                  <div class=\"d-flex justify-content-center mt-3\">\r\n                    <button\r\n                      v-if=\"nftInfo[tokenId].staked\"\r\n                      @click=\"unstake(tokenId)\"\r\n                      class=\"btn btn-danger\"\r\n                      :disabled=\"paused\"\r\n                    >\r\n                      Unstake\r\n                    </button>\r\n                    <button\r\n                      v-else\r\n                      @click=\"stake(tokenId)\"\r\n                      class=\"btn btn-primary\"\r\n                      :disabled=\"paused\"\r\n                    >\r\n                      Stake\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div v-if=\"nftInfo[tokenId].level >= maxLevel\">\r\n                    Max. level reached! \r\n                  </div>\r\n                  <div v-else>\r\n                    <div>\r\n                      <span title=\"current level\"\r\n                        >{{ nftInfo[tokenId].level }}</span\r\n                      >\r\n                      <input\r\n                        type=\"range\"\r\n                        title=\"Choose desired level after upgrade\"\r\n                        class=\"form-control-range\"\r\n                        :min=\"nftInfo[tokenId].level + 1\"\r\n                        :max=\"maxLevel\"\r\n                        id=\"levelsToUpgradeSlider\"\r\n                        v-model=\"nftInfo[tokenId].nftLevelAfterUpgrade\"\r\n                        @change=\"updateLevelsToUpgrade(tokenId)\"\r\n                      />\r\n                      <span\r\n                        title=\"level after upgrade\"\r\n                        class=\"text-muted\"\r\n                        v-if=\"nftInfo[tokenId].nftLevelAfterUpgrade <= maxLevel\"\r\n                      >\r\n                        ({{ nftInfo[tokenId].nftLevelAfterUpgrade }})\r\n                      </span>\r\n                      <span class=\"text-muted\" title=\"power after upgrade\">\r\n                        ({{\r\n                          powerForLevel[nftInfo[tokenId].nftLevelAfterUpgrade]\r\n                        }})</span\r\n                      >\r\n                    </div>\r\n                    <button\r\n                      @click=\"\r\n                        upgradeSpecificNft(\r\n                          tokenId,\r\n                          nftInfo[tokenId].levelsToUpgrade\r\n                        )\r\n                      \"\r\n                      class=\"btn btn-primary\"\r\n                      :disabled=\"\r\n                        stakersTokenBalance <= 0 ||\r\n                        stakersTokenAllowanceForLeveling <= 0 ||\r\n                        nftInfo[tokenId].level >= maxLevel ||\r\n                        paused\r\n                      \"\r\n                      style=\"font-size: 14px\"\r\n                    >\r\n                      Upgrade\r\n                      {{ nftInfo[tokenId].levelsToUpgrade }} level<template\r\n                        v-if=\"nftInfo[tokenId].levelsToUpgrade != 1\"\r\n                        >s</template\r\n                      >\r\n                      for\r\n                      {{\r\n                        nftInfo[tokenId].levelsToUpgrade * tokenCostPerLevel\r\n                      }}\r\n                      SVC\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nconst Web3 = require(\"web3\");\r\nimport { ethers } from \"ethers\";\r\nimport Reaperville from \"../../artifacts/contracts/Reaperville.sol/Reaperville.json\";\r\nimport RewardToken from \"../../artifacts/contracts/RewardToken.sol/RewardToken.json\";\r\n\r\n// TODO Testnet - Mainnet switch\r\n// import reaperInitialStakes from \"../reaper-initial-stakes.json\";\r\n// import reaperLevel from \"../reaper-level.json\";\r\n\r\n// TODO Testnet - Mainnet switch\r\nimport reaperInitialStakesTest from \"../reaperTest-initial-stakes.json\";\r\n\r\nimport reaperTestLevel from \"../reaperTest-level.json\";\r\n\r\n// TODO Testnet - Mainnet switch\r\n// let reaper = {\r\n//   levels: reaperLevel,\r\n//   initialStakes: reaperInitialStakes,\r\n//   pictureLink:\r\n//     \"https://raw.githubusercontent.com/WorldOfMasks/data/main/json/\",\r\n// };\r\n\r\n// TODO Testnet - Mainnet switch\r\nlet reaperTest = {\r\n  levels: reaperTestLevel,\r\n  initialStakes: reaperInitialStakesTest,\r\n  pictureLink:\r\n    \"https://raw.githubusercontent.com/Surviville/Reaperville/master/png/\",\r\n};\r\n\r\nconst nftCollection = {\r\n  // TODO Testnet - Mainnet switch\r\n  // \"0xf928B82061bc531e3B24B8CF3736724e35988b7a\": reaper,\r\n\r\n  // TODO Testnet - Mainnet switch\r\n  \"0x4a017832df30EFb09B866D22ba2329914A7b6397\": reaperTest,\r\n};\r\n\r\nfunction removeItemOnce(arr, value) {\r\n  let index = arr.indexOf(value);\r\n  if (index > -1) {\r\n    arr.splice(index, 1); // 2nd parameter: Amount of elements to remove\r\n  } else {\r\n    console.log(\"Unstaking an NFT that has not been staked before!\");\r\n  }\r\n  return arr;\r\n}\r\n\r\n// function matchesAllFilters(nft, filters) {\r\n//   for (const [category, traits] of Object.entries(filters)) {\r\n//     if (0 === traits.length) {\r\n//       // console.log(\"No filter on \" + category + \" specified\");\r\n//       continue;\r\n//     } else if (-1 === traits.indexOf(nft[\"traits\"][category])) {\r\n//       // console.log(\"Specified traits for \" + category + \" not in nft \" + nft.id +\". Trait is \" + nft[\"traits\"][category]);\r\n//       return false;\r\n//     }\r\n//   }\r\n//   // console.log(nft.id + \" matches all filters\");\r\n//   return true;\r\n// }\r\n\r\nexport default {\r\n  name: \"App\",\r\n  props: [\"nftCA\", \"projectname\"],\r\n  emits: [\"updateStakingPowerEvent\"],\r\n\r\n  data() {\r\n    return {\r\n      rpc: null,\r\n\r\n      maxLevel: 100,\r\n      tokenCostPerLevel: 100,\r\n      tokenCostToBulkUpgrade: 0,\r\n\r\n      powerForLevel: [\r\n        1000, 1050, 1104, 1162, 1224, 1291, 1363, 1440, 1523, 1613, 1710, 1815,\r\n        1928, 2051, 2184, 2329, 2486, 2657, 2844, 3048, 3271, 3515, 3782, 4075,\r\n        4397, 4730, 5074, 5428, 5792, 6165, 6546, 6934, 7329, 7730, 8136, 8546,\r\n        8959, 9375, 9793, 10212, 10632, 11051, 11469, 11886, 12301, 12713,\r\n        13122, 13527, 13928, 14324, 14715, 15101, 15481, 15855, 16223, 16584,\r\n        16939, 17287, 17628, 17962, 18288, 18607, 18918, 19222, 19519, 19808,\r\n        20090, 20364, 20631, 20891, 21143, 21391, 21634, 21873, 22107, 22336,\r\n        22561, 22781, 22997, 23210, 23421, 23630, 23836, 24040, 24242, 24441,\r\n        24638, 24833, 25025, 25215, 25402, 25587, 25770, 25950, 26128, 26304,\r\n        26477, 26648, 26817, 26983, 27147,\r\n      ],\r\n\r\n      maxNftsPerTx: 50,\r\n\r\n      showLevelingExplanation: false,\r\n\r\n      stakersAddress: null,\r\n\r\n      currentCollection: null,\r\n\r\n      stakersTokenBalance: 0,\r\n      stakersTokenAllowanceForLeveling: 0,\r\n\r\n      feedbackMessage: \"\",\r\n\r\n      nftContract: null,\r\n      reaperContract: null,\r\n      rewardTokenContract: null,\r\n\r\n      provider: null,\r\n      signer: null,\r\n\r\n      loadingUnstakedNfts: true,\r\n      loadingStakedNfts: true,\r\n\r\n      stakersNfts: [],\r\n      filteredNfts: [],\r\n      filter: \"all\",\r\n      selectedNfts: [],\r\n      nftInfo: {},\r\n\r\n      stakedCount: 0,\r\n      unstakedCount: 0,\r\n\r\n      picLink: \"\",\r\n\r\n      nftLevel: {},\r\n\r\n      transactionInProgress: false,\r\n\r\n      paused: true,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    // updateFilters: function () {\r\n    //   that.filters = {}\r\n    //   filters.Background = getSelectValues(document.getElementById(\"Background\"));\r\n    //   filters.Fur = getSelectValues(document.getElementById(\"Fur\"));\r\n    //   filters.Clothes = getSelectValues(document.getElementById(\"Clothes\"));\r\n    //   filters.Eyes = getSelectValues(document.getElementById(\"Eyes\"));\r\n    //   filters.Mouth = getSelectValues(document.getElementById(\"Mouth\"));\r\n    //   filters.Earring = getSelectValues(document.getElementById(\"Earring\"));\r\n    //   filters.Hat = getSelectValues(document.getElementById(\"Hat\"));\r\n    //   filters.Profile = getSelectValues(document.getElementById(\"Profile\"));\r\n    //   filters.Special = getSelectValues(document.getElementById(\"Special\"));\r\n    //   filters.trait_count = getSelectValues(document.getElementById(\"trait_count\"));\r\n\r\n    //   for (let nft of that.sts) {\r\n    //     if (false == matchesAllFilters(nft, filters)) continue;\r\n    //   }\r\n    // },\r\n\r\n    refreshPowBalance: function () {\r\n      this.feedbackMessage = \"Updating SVC Balance\";\r\n      this.stakersTokenBalance = \"updating\";\r\n      this.rewardTokenContract\r\n        .balanceOf(this.stakersAddress)\r\n        .then((balance) => {\r\n          this.stakersTokenBalance = balance;\r\n        });\r\n      this.feedbackMessage = \"Reward Token Balance Updated\";\r\n    },\r\n\r\n    selectNft: function (_tokenId) {\r\n      let that = this;\r\n      if (that.selectedNfts.indexOf(_tokenId) < 0) {\r\n        that.selectedNfts.push(_tokenId);\r\n      } else {\r\n        removeItemOnce(that.selectedNfts, _tokenId);\r\n      }\r\n      that.updateCostForBulkUpgrade();\r\n    },\r\n\r\n    updateLevelsToUpgrade: function (_tokenId) {\r\n      let that = this;\r\n      if (that.selectedNfts.indexOf(_tokenId) < 0) {\r\n        that.selectedNfts.push(_tokenId);\r\n      }\r\n      if (that.nftInfo[_tokenId].nftLevelAfterUpgrade > that.maxLevel) {\r\n        that.nftInfo[_tokenId].nftLevelAfterUpgrade = that.maxLevel;\r\n      }\r\n      that.nftInfo[_tokenId].levelsToUpgrade =\r\n        that.nftInfo[_tokenId].nftLevelAfterUpgrade -\r\n        that.nftInfo[_tokenId].level;\r\n\r\n      that.updateCostForBulkUpgrade();\r\n    },\r\n\r\n    getLevel: function (_tokenId) {\r\n      let level = this.currentCollection.levels[\"level\"][_tokenId];\r\n      if (!level) {\r\n        // set initial level\r\n        if (_tokenId < 10) {\r\n          level = 10;\r\n        } else if (_tokenId == 2500) {\r\n          level = 0;\r\n        } else {\r\n          level = 9 - Math.floor(_tokenId / 250);\r\n        }\r\n      }\r\n      return level;\r\n    },\r\n\r\n    getPower: function (_tokenId) {\r\n      return this.powerForLevel[this.getLevel(_tokenId)];\r\n    },\r\n\r\n    approveRewardToken: async function () {\r\n      let that = this;\r\n\r\n      that.feedbackMessage = \"Approving SVC token\";\r\n\r\n      let tx = await that.rewardTokenContract.approve(\r\n        window.ReaperAddress,\r\n        ethers.constants.MaxUint256,\r\n        {\r\n          gasLimit: 65000, // 60k is probably fine, too\r\n          gasPrice: 1046740000,\r\n        }\r\n      );\r\n      await tx.wait();\r\n      that.rewardTokenContract\r\n        .allowance(that.stakersAddress, window.ReaperAddress)\r\n        .then((allowance) => {\r\n          that.stakersTokenAllowanceForLeveling = allowance;\r\n        });\r\n      that.feedbackMessage = \"\";\r\n    },\r\n\r\n    stake: async function (tokenId) {\r\n      this.transactionInProgress = true;\r\n      this.feedbackMessage = \"\";\r\n      let tx = await this.reaperContract.stake([tokenId], {\r\n        gasLimit: 400000,\r\n        gasPrice: 1046740000,\r\n      });\r\n      // let tx = await this.reaperContract.stake([tokenId]);\r\n      await tx.wait();\r\n      this.load();\r\n    },\r\n\r\n    unstake: async function (tokenId) {\r\n      this.transactionInProgress = true;\r\n      this.feedbackMessage = \"\";\r\n      let tx = await this.reaperContract.unstake([tokenId], {\r\n        gasLimit: 450000,\r\n        gasPrice: 1046740000,\r\n      });\r\n      await tx.wait();\r\n      this.load();\r\n    },\r\n\r\n    selectVisible: function () {\r\n      this.feedbackMessage = \"\";\r\n      this.selectedNfts = [];\r\n      for (let tokenId of this.filteredNfts) {\r\n        if (this.selectedNfts.indexOf(tokenId) < 0) {\r\n          this.selectedNfts.push(tokenId);\r\n        }\r\n      }\r\n\r\n      this.updateCostForBulkUpgrade();\r\n    },\r\n\r\n    clearSelection: function () {\r\n      this.feedbackMessage = \"\";\r\n      this.selectedNfts = [];\r\n      this.updateCostForBulkUpgrade();\r\n    },\r\n\r\n    stakeSelected: async function () {\r\n      this.transactionInProgress = true;\r\n      this.feedbackMessage = \"\";\r\n\r\n      let IDs = [];\r\n\r\n      for (let tokenId of this.selectedNfts) {\r\n        if (\r\n          this.nftInfo[tokenId].staked === false &&\r\n          this.filteredNfts.indexOf(tokenId) > -1 &&\r\n          IDs.length < this.maxNftsPerTx\r\n        ) {\r\n          // console.log(this.selectedNfts[i], this.stakersNfts[findIdx]);\r\n          IDs.push(tokenId);\r\n        }\r\n      }\r\n\r\n      this.selectedNfts = IDs.slice();\r\n\r\n      if (IDs.length === 0) {\r\n        this.feedbackMessage = \"No selected NFT matches all criteria.\";\r\n        return false;\r\n      } else {\r\n        this.feedbackMessage = \"Staking selected NFTs.\";\r\n      }\r\n\r\n      let tx = await this.reaperContract.stake(IDs, {\r\n        gasLimit: Math.min(200000 + 200000 * IDs.length, 9999999),\r\n        gasPrice: 1046740000,\r\n      });\r\n      await tx.wait();\r\n      this.load();\r\n    },\r\n\r\n    unstakeSelected: async function () {\r\n      this.transactionInProgress = true;\r\n      this.feedbackMessage = \"\";\r\n\r\n      let IDs = [];\r\n\r\n      for (let tokenId of this.selectedNfts) {\r\n        if (\r\n          this.nftInfo[tokenId].staked === true &&\r\n          this.filteredNfts.indexOf(tokenId) > -1 &&\r\n          IDs.length < this.maxNftsPerTx\r\n        ) {\r\n          // console.log(this.selectedNfts[i], this.filteredNfts[findIdx]);\r\n          IDs.push(tokenId);\r\n        }\r\n      }\r\n\r\n      this.selectedNfts = IDs.slice();\r\n\r\n      if (IDs.length === 0) {\r\n        this.feedbackMessage = \"No selected NFT matches all criteria.\";\r\n        return false;\r\n      } else {\r\n        this.feedbackMessage = \"Unstaking selected NFTs.\";\r\n      }\r\n\r\n      let tx = await this.reaperContract.unstake(IDs, {\r\n        gasLimit: Math.min(250000 + 300000 * IDs.length, 9999999),\r\n        gasPrice: 1046740000,\r\n      });\r\n      await tx.wait();\r\n      this.load();\r\n    },\r\n\r\n    updateCostForBulkUpgrade: function () {\r\n      let nftsFound = 0;\r\n      this.tokenCostToBulkUpgrade = 0;\r\n\r\n      for (let idx = 0; idx < this.selectedNfts.length; idx++) {\r\n        let tokenId = this.selectedNfts[idx];\r\n        let cost = this.nftInfo[tokenId].levelsToUpgrade * this.tokenCostPerLevel;\r\n        if (nftsFound >= this.maxNftsPerTx) {\r\n          this.feedbackMessage = \"Max. number of NFTs selected\";\r\n          removeItemOnce(this.selectedNfts, tokenId);\r\n          idx--;\r\n        } else {\r\n          this.tokenCostToBulkUpgrade += cost;\r\n          nftsFound++;\r\n        }\r\n      }\r\n    },\r\n\r\n    upgradeSpecificNft: async function (_tokenId, _levelsToUpgrade) {\r\n      if (_levelsToUpgrade === 0) {\r\n        this.feedbackMessage = \"Can't upgrade 0 levels\";\r\n        return false;\r\n      }\r\n\r\n      this.feedbackMessage = \"\";\r\n\r\n      let that = this;\r\n      let _rewardTokens = _levelsToUpgrade * that.tokenCostPerLevel;\r\n\r\n      // checking SVC token\r\n      if (_rewardTokens > that.stakersTokenAllowanceForLeveling) {\r\n        that.feedbackMessage = \"Please increase your SVC token allowance first\";\r\n        return false;\r\n      } else if (_rewardTokens > that.stakersTokenBalance) {\r\n        that.feedbackMessage = \"SVC token balance is too low\";\r\n        return false;\r\n      }\r\n\r\n      let level = that.getLevel(_tokenId);\r\n      if (level >= that.maxLevel) {\r\n        that.feedbackMessage =\r\n          \"Cannot upgrade \" + _tokenId + \", because it's already at max. level\";\r\n        console.log(that.feedbackMessage);\r\n        return false;\r\n      }\r\n\r\n      // check owner\r\n      let _nftOwner = await that.nftContract.ownerOf(_tokenId);\r\n      if (_nftOwner !== that.stakersAddress) {\r\n        if (_nftOwner !== window.ReaperAddress) {\r\n          that.feedbackMessage =\r\n            \"Cannot upgrade \" + _tokenId + \", because it's not in your wallet\";\r\n          console.log(that.feedbackMessage);\r\n          return false;\r\n        }\r\n      }\r\n\r\n      that.feedbackMessage =\r\n        \"Upgrading 1 NFT by \" +\r\n        _levelsToUpgrade +\r\n        \" levels with \" +\r\n        _rewardTokens +\r\n        \" SVC\";\r\n      console.log(that.feedbackMessage);\r\n\r\n      console.log(\"Power old= \" + that.getPower(_tokenId));\r\n      console.log(\"Level old= \" + level);\r\n      console.log(\"Balance old= \" + that.stakersTokenBalance);\r\n      let balanceNew = that.stakersTokenBalance - _rewardTokens;\r\n      console.log(\"Balance new= \" + balanceNew);\r\n\r\n      let tx = await that.reaperContract.upgradeLevel(\r\n        [_tokenId],\r\n        [_levelsToUpgrade],\r\n        {\r\n          gasLimit: 300000,\r\n          gasPrice: 1046740000,\r\n        }\r\n      );\r\n      await tx.wait();\r\n\r\n      if (that.nftInfo[_tokenId].staked) {\r\n        // that.load();\r\n        // that.$emit('updateStakingPowerEvent');\r\n        window.location.reload();\r\n      } else {\r\n        that.load();\r\n      }\r\n    },\r\n\r\n    upgradeSelectedNfts: async function () {\r\n      this.feedbackMessage = \"\";\r\n\r\n      let that = this;\r\n\r\n      // checking SVC token\r\n      if (that.tokenCostToBulkUpgrade > that.stakersTokenAllowanceForLeveling) {\r\n        that.feedbackMessage = \"Please increase your SVC token allowance first\";\r\n        return false;\r\n      } else if (that.tokenCostToBulkUpgrade > that.stakersTokenBalance) {\r\n        that.feedbackMessage = \"SVC token balance is too low\";\r\n        return false;\r\n      }\r\n\r\n      if (that.selectedNfts.length < 1) {\r\n        that.feedbackMessage = \"No NFTs selected\";\r\n        return false;\r\n      } else if (that.selectedNfts.length == 1) {\r\n        let tokenId = that.selectedNfts[0];\r\n        let level = that.getLevel(tokenId);\r\n        if (level >= that.maxLevel) {\r\n          that.feedbackMessage =\r\n            \"Cannot upgrade \" +\r\n            tokenId +\r\n            \", because it's already at max. level\";\r\n          console.log(that.feedbackMessage);\r\n          return false;\r\n        }\r\n\r\n        // check owner\r\n        let _nftOwner = await this.nftContract.ownerOf(tokenId);\r\n        if (_nftOwner !== that.stakersAddress) {\r\n          if (_nftOwner !== window.ReaperAddress) {\r\n            that.feedbackMessage = \"You don't own \" + tokenId;\r\n            console.log(that.feedbackMessage);\r\n            return false;\r\n          }\r\n        }\r\n\r\n        that.feedbackMessage =\r\n          \"Upgrading 1 NFT with \" +\r\n          that.nftInfo[tokenId].levelsToUpgrade +\r\n          \" SVC\";\r\n        console.log(that.feedbackMessage);\r\n\r\n        console.log(\"Level old= \" + level);\r\n        console.log(\"Balance old= \" + that.stakersTokenBalance);\r\n        let balanceNew =\r\n          that.stakersTokenBalance - that.nftInfo[tokenId].levelsToUpgrade;\r\n        console.log(\"Balance new= \" + balanceNew);\r\n\r\n        let tx = await that.reaperContract.upgradeLevel(\r\n          [tokenId],\r\n          [that.nftInfo[tokenId].levelsToUpgrade],\r\n          {\r\n            gasLimit: 300000,\r\n            gasPrice: 1046740000,\r\n          }\r\n        );\r\n        await tx.wait();\r\n        if (that.nftInfo[tokenId].staked) {\r\n          // that.emit('updateStakingPowerEvent');\r\n          window.location.reload();\r\n        } else {\r\n          that.load();\r\n        }\r\n      } else if (that.selectedNfts.length > 1) {\r\n        // go through selected NFTs and pick first maxNftsPerTx which qualify for an upgrade\r\n        let nftsToUpgradeArray = [];\r\n        let levelsToUpgradeArray = [];\r\n        that.feedbackMessage =\r\n          \"Double checking ownership and level of selected NFTs\";\r\n        for (\r\n          let i = 0;\r\n          i < that.selectedNfts.length &&\r\n          nftsToUpgradeArray.length < that.maxNftsPerTx;\r\n          i++\r\n        ) {\r\n          let tokenId = that.selectedNfts[i];\r\n          // check cost\r\n          if (that.nftInfo[tokenId].levelsToUpgrade === 0) {\r\n            that.feedbackMessage +=\r\n              \" -- Skipping \" + tokenId + \" (0 SVC upgrade)\";\r\n            continue;\r\n          }\r\n\r\n          // check level\r\n          if (that.getLevel(tokenId) >= that.maxLevel) {\r\n            that.feedbackMessage +=\r\n              \" -- Skipping \" + tokenId + \" (already at max level)\";\r\n            continue;\r\n          }\r\n\r\n          // check owner\r\n          let _nftOwner = await this.nftContract.ownerOf(tokenId);\r\n          if (_nftOwner !== that.stakersAddress) {\r\n            if (_nftOwner !== window.ReaperAddress) {\r\n              that.feedbackMessage +=\r\n                \" -- Skipping \" + tokenId + \" (not in your wallet)\";\r\n              console.log(that.feedbackMessage);\r\n            }\r\n          }\r\n\r\n          nftsToUpgradeArray.push(that.selectedNfts[i]);\r\n          levelsToUpgradeArray.push(that.nftInfo[tokenId].levelsToUpgrade);\r\n          console.log(\"Adding \" + tokenId);\r\n          console.log(nftsToUpgradeArray);\r\n        }\r\n\r\n        that.feedbackMessage +=\r\n          \" -- \" + nftsToUpgradeArray.length + \" NFTs passed all checks\";\r\n        console.log(nftsToUpgradeArray);\r\n        console.log(levelsToUpgradeArray);\r\n        console.log(\"Bulk Upgrade Cost= \" + that.tokenCostToBulkUpgrade);\r\n\r\n        console.log(\"Balance old=\" + that.stakersTokenBalance);\r\n        let powBalanceAfterUpgrade =\r\n          that.stakersTokenBalance - that.tokenCostToBulkUpgrade;\r\n        console.log(\"Balance after bulk upgrade: \", powBalanceAfterUpgrade);\r\n\r\n        if (nftsToUpgradeArray.length <= 0) {\r\n          return false;\r\n        }\r\n\r\n        that.feedbackMessage +=\r\n          \" -- Upgrading NFTs [\" +\r\n          nftsToUpgradeArray +\r\n          \"] with [\" +\r\n          levelsToUpgradeArray +\r\n          \"] SVC\";\r\n        let tx = await this.reaperContract.upgradeLevel(\r\n          nftsToUpgradeArray,\r\n          levelsToUpgradeArray,\r\n          {\r\n            gasLimit: Math.min(\r\n              200000 + 200000 * nftsToUpgradeArray.length,\r\n              9999999\r\n            ),\r\n            gasPrice: 1046740000,\r\n          }\r\n        );\r\n        await tx.wait();\r\n      }\r\n\r\n      window.location.reload();\r\n    },\r\n\r\n    // upgrade1NftGasSavings: function (_rewardTokens, _tokenId, startPwrX10k, startLvl) {\r\n    //   console.log(\"V2+ (gas savings) start\");\r\n\r\n    //   let that = this;\r\n    //   let rewardTokensConsumed = 0;\r\n\r\n    // console.log(\"after full + partial level upgrades: level: \" + newLvl + \" power: \" + newPwrX10k + \" -- tokenCostPerLevel: \" + tokenCostPerLevel + \" -- minpower: \", this.getMinPower(newLvl), this.getMinPower(newLvl + 1));\r\n\r\n    // return { rewardTokensConsumed, newPwrX10k, newLvl };\r\n    // },\r\n\r\n    calculatePowerIncreaseSolidityV2: function (_rewardTokens, _tokenId) {\r\n      let startLvl = this.nftLevel[_tokenId - 1];\r\n      let startPwrX10k = this.getPower(_tokenId);\r\n\r\n      let result2 = this.upgrade1NftGasSavings(\r\n        _rewardTokens,\r\n        _tokenId,\r\n        startPwrX10k,\r\n        startLvl\r\n      );\r\n\r\n      this.nftInfo[_tokenId].nftPowerAfterUpgrade = result2.newPwrX10k;\r\n      this.nftInfo[_tokenId].nftLevelAfterUpgrade = result2.newLvl;\r\n      this.nftInfo[_tokenId].levelsToUpgrade = result2.rewardTokensConsumed;\r\n      let minpwrLevel = this.getMinPower(result2.newLvl);\r\n      let minpwrNextLevel = this.getMinPower(result2.newLvl + 1);\r\n      this.nftInfo[_tokenId].pctInLevelX100AfterUpgrade = Math.min(\r\n        10000,\r\n        Math.round(\r\n          (((result2.newPwrX10k - minpwrLevel) /\r\n            (minpwrNextLevel - minpwrLevel)) *\r\n            10000) /\r\n            0.7\r\n        )\r\n      );\r\n    },\r\n\r\n    filterNfts: function (_param) {\r\n      let that = this;\r\n      let staked = [];\r\n      let unstaked = [];\r\n      that.filter = _param;\r\n      switch (_param) {\r\n        case \"all\":\r\n          // that.filteredNfts = that.stakersNfts;\r\n          staked = that.stakersNfts.filter((tokenId) => {\r\n            return that.nftInfo[tokenId].staked === true;\r\n          });\r\n          unstaked = that.stakersNfts.filter((tokenId) => {\r\n            return that.nftInfo[tokenId].staked === false;\r\n          });\r\n          that.filteredNfts = staked.concat(unstaked);\r\n          break;\r\n        case \"staked\":\r\n          that.filteredNfts = that.stakersNfts.filter((tokenId) => {\r\n            return that.nftInfo[tokenId].staked === true;\r\n          });\r\n          break;\r\n        case \"unstaked\":\r\n          that.filteredNfts = that.stakersNfts.filter((tokenId) => {\r\n            return that.nftInfo[tokenId].staked === false;\r\n          });\r\n          break;\r\n        default:\r\n          that.feedbackMessage = \"Filter not implemented\";\r\n      }\r\n    },\r\n\r\n    fillNftInfo: function (_inArr, _staked) {\r\n      let that = this;\r\n      for (let i in _inArr) {\r\n        let tokenId = _inArr[i];\r\n        that.stakersNfts.push(tokenId);\r\n        let level = that.getLevel(tokenId);\r\n\r\n        that.nftInfo[tokenId] = {\r\n          staked: _staked,\r\n          level: level,\r\n          nftLevelAfterUpgrade: level + 1,\r\n          levelsToUpgrade: 1,\r\n          image: that.currentCollection.pictureLink + tokenId + \".png\",\r\n        };\r\n      }\r\n      if (\r\n        that.loadingStakedNfts === false &&\r\n        that.loadingUnstakedNfts === false\r\n      ) {\r\n        that.stakersNfts.sort(function (a, b) {\r\n          return that.nftInfo[b].level - that.nftInfo[a].level;\r\n        });\r\n        console.log(\"calling filter\");\r\n        that.filterNfts(that.filter);\r\n        this.transactionInProgress = false;\r\n      }\r\n    },\r\n\r\n    updateLevels: async function () {\r\n      this.feedbackMessage = \"\";\r\n\r\n      let that = this;\r\n\r\n      return new Promise((resolve, reject) => {\r\n        // loading power updates that came later\r\n        console.log(\r\n          \"nextBlock: \" + that.currentCollection.levels.nextBlockToCheck\r\n        );\r\n        const optionsPower = {\r\n          fromBlock: that.currentCollection.levels.nextBlockToCheck, //Number || \"earliest\" || \"pending\" || \"latest\"\r\n          toBlock: \"latest\",\r\n        };\r\n\r\n        try {\r\n          let web3HttpReadLevels = new Web3(this.rpc);\r\n          const stakeContractHttp = new web3HttpReadLevels.eth.Contract(\r\n            Reaperville.abi,\r\n            window.ReaperAddress\r\n          );\r\n\r\n          console.log(\"Getting past events for power upgrades\");\r\n          stakeContractHttp\r\n            .getPastEvents(\"levelUpgraded\", optionsPower)\r\n            .then(function (events) {\r\n              if (0 >= events.length) {\r\n                console.log(\"No events\");\r\n                return true;\r\n              }\r\n              // that.currentCollection.level.nextBlockToCheck = Math.max(that.currentCollection.level.nextBlockToCheck, (events[events.length - 1].blockNumber + 1));\r\n\r\n              console.log(events.length + \" events found for power upgrades\");\r\n\r\n              for (let item of events) {\r\n                // console.log(item);\r\n                let id = parseInt(item.returnValues.tokenId);\r\n                let newLevel = parseInt(item.returnValues.newLevel);\r\n\r\n                that.currentCollection.levels[\"level\"][id] = newLevel;\r\n                console.log(\r\n                  id +\r\n                    \" upgraded to \" +\r\n                    newLevel +\r\n                    \" == \" +\r\n                    that.currentCollection.levels[\"level\"][id] +\r\n                    \" in \" +\r\n                    item.blockNumber\r\n                );\r\n              }\r\n            })\r\n            .then(() => {\r\n              console.log(\"returning Power\");\r\n              resolve();\r\n            });\r\n        } catch (e) {\r\n          console.log(e);\r\n          reject();\r\n        }\r\n      });\r\n    },\r\n\r\n    load: async function () {\r\n      let that = this;\r\n      that.loadingUnstakedNfts = true;\r\n      that.loadingStakedNfts = true;\r\n\r\n      that.filteredNfts = [];\r\n      that.stakersNfts = [];\r\n\r\n      that.currentCollection = nftCollection[that.nftCA];\r\n\r\n      that.stakersAddress = await that.signer.getAddress();\r\n\r\n      that.reaperContract.isPaused().then((pause) => {\r\n        that.paused = pause;\r\n      });\r\n\r\n      // load SVC balance and allowance\r\n      that.rewardTokenContract\r\n        .balanceOf(that.stakersAddress)\r\n        .then((balance) => {\r\n          that.stakersTokenBalance = balance;\r\n        });\r\n      that.rewardTokenContract\r\n        .allowance(that.stakersAddress, window.ReaperAddress)\r\n        .then((allowance) => {\r\n          that.stakersTokenAllowanceForLeveling = allowance;\r\n        });\r\n\r\n      //////////////////\r\n      // Update power //\r\n      //////////////////\r\n      await that.updateLevels(); // updates this.nftPower\r\n      // console.log(\"nftPower in load: \" + that.nftPower);\r\n\r\n      ////////////\r\n      // staked //\r\n      ////////////\r\n      that.nftContract.walletOfOwnerStaked(that.stakersAddress).then((tokens) => {\r\n        let tokensStaked = [];\r\n        for (let iCopy = 0; iCopy < tokens.length; iCopy++) {\r\n          let tokenId = Number(tokens[iCopy]);\r\n          if (tokenId === 0) {\r\n            continue;\r\n          }\r\n          tokensStaked.push(tokenId);\r\n        }\r\n        that.loadingStakedNfts = false;\r\n        that.stakedCount = tokensStaked.length;\r\n        that.fillNftInfo(tokensStaked, true);\r\n      });\r\n\r\n      //////////////\r\n      // unstaked //\r\n      //////////////\r\n      that.nftContract.walletOfOwner(that.stakersAddress).then((tokens) => {\r\n        let tokensInWallet = [];\r\n        for (let iCopy = 0; iCopy < tokens.length; iCopy++) {\r\n          let tokenId = Number(tokens[iCopy]);\r\n          if (tokenId === 0) {\r\n            continue;\r\n          }\r\n          tokensInWallet.push(tokenId);\r\n        }\r\n        that.loadingUnstakedNfts = false;\r\n        that.unstakedCount = tokensInWallet.length;\r\n        that.fillNftInfo(tokensInWallet, false);\r\n      });\r\n    },\r\n  },\r\n\r\n  mounted: function () {\r\n    this.rpc = window.ethereum; // doesn't work on Android due to a bug(?)\r\n\r\n    this.provider = new ethers.providers.Web3Provider(this.rpc, \"any\");\r\n\r\n    this.provider\r\n      .send(\"eth_requestAccounts\", [])\r\n      .then(() => {\r\n        this.signer = this.provider.getSigner();\r\n\r\n        let _nftContract = new ethers.Contract(\r\n          this.nftCA.toString(),\r\n          Reaperville.abi,\r\n          this.provider.getSigner()\r\n        );\r\n        let _reaperContract = new ethers.Contract(\r\n          window.ReaperAddress,\r\n          Reaperville.abi,\r\n          this.provider.getSigner()\r\n        );\r\n        let _rewardTokenContract = new ethers.Contract(\r\n          window.RewardTokenAddress,\r\n          RewardToken.abi,\r\n          this.provider.getSigner()\r\n        );\r\n\r\n        this.nftContract = _nftContract;\r\n        this.reaperContract = _reaperContract;\r\n        this.rewardTokenContract = _rewardTokenContract;\r\n      })\r\n      .then(() => {\r\n        this.load();\r\n      });\r\n  },\r\n};\r\n</script>\r\n\r\n","import { render } from \"./Nft.vue?vue&type=template&id=391157ec\"\nimport script from \"./Nft.vue?vue&type=script&lang=js\"\nexport * from \"./Nft.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/martin/Documents/coding/reaperville-staking/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"col-12 align-items-center\">\r\n    <div class=\"row align-items-center\">\r\n      <h4>\r\n        Balance: {{ stakersRewardTokenBalance }} SVC &nbsp;\r\n        <i\r\n          title=\"Refresh SVC Balance\"\r\n          @click=\"loadRewardTokenBalance\"\r\n          class=\"ri-refresh-line\"\r\n        ></i>\r\n      </h4>\r\n      <br />\r\n      <h4 v-on:updateStakingPowerEvent=\"loadStakerInfo\">\r\n        Staking power: {{ stakersPower }} &nbsp;\r\n        <i\r\n          title=\"Refresh SVC Balance\"\r\n          @click=\"loadStakerInfo\"\r\n          class=\"ri-refresh-line\"\r\n        ></i>\r\n      </h4>\r\n      <br />\r\n\r\n      <template v-if=\"stakersPower > 0\">\r\n        <h4>\r\n          Staked for {{ formatSeconds(stakerStakedForSeconds) }}. (Harvest and\r\n          unstake reset the timer.)\r\n        </h4>\r\n        <br />\r\n        <h4>Current payout level: {{ stakersPayoutPct }}%</h4>\r\n        <br />\r\n        <h4 v-if=\"stakerNextPayoutPctInSeconds > 0\">\r\n          Next payout level: {{ stakersNextPayoutPct }}% -- reached in\r\n          {{ formatSeconds(stakerNextPayoutPctInSeconds) }}\r\n        </h4>\r\n        <h4 v-else>\r\n          Congratulations! You reached the highest payout level. \r\n        </h4>\r\n      </template>\r\n\r\n      <br />\r\n      <h6>Total staked power: {{ totalStakedPower }}</h6>\r\n      <h6>Base power: {{ baseStakingPower }}</h6>\r\n      <h6>\r\n        Total SVC Emission: ~{{\r\n          Math.round(womEmissionPerHour * earningsTime * 100) / 100\r\n        }}\r\n        SVC / {{ hoursInWords[earningsTime] }}\r\n      </h6>\r\n      <br />\r\n      <div\r\n        class=\"settings-menu\"\r\n        v-if=\"womEmissionPerHour && totalStakedPower && stakersPower\"\r\n      >\r\n        <button\r\n          class=\"btn btn-primary\"\r\n          type=\"button\"\r\n          id=\"collection-filter\"\r\n          data-bs-toggle=\"dropdown\"\r\n          aria-expanded=\"false\"\r\n          style=\"font-size: 14px\"\r\n        >\r\n          Earning ~{{\r\n            Math.round(stakerEarningRateX1k * earningsTime) / 1000\r\n          }}\r\n          SVC / {{ hoursInWords[earningsTime] }}\r\n        </button>\r\n        <ul class=\"dropdown-menu\" aria-labelledby=\"earnings-time\">\r\n          <li>\r\n            <a\r\n              class=\"dropdown-item\"\r\n              @click=\"earningsTime = 1\"\r\n              :class=\"earningsTime === 1 ? 'current' : ''\"\r\n            >\r\n              Earning ~{{ Math.round(stakerEarningRateX1k * 1) / 1000 }}\r\n              SVC / hour\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a\r\n              class=\"dropdown-item\"\r\n              @click=\"earningsTime = 24\"\r\n              v-bind:class=\"earningsTime === 24 ? 'current' : ''\"\r\n            >\r\n              Earning ~{{ Math.round(stakerEarningRateX1k * 24) / 1000 }}\r\n              SVC / day\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a\r\n              class=\"dropdown-item\"\r\n              @click=\"earningsTime = 168\"\r\n              v-bind:class=\"earningsTime === 168 ? 'current' : ''\"\r\n            >\r\n              Earning ~{{ Math.round(stakerEarningRateX1k * 168) / 1000 }}\r\n              SVC / week\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a\r\n              class=\"dropdown-item\"\r\n              @click=\"earningsTime = 720\"\r\n              v-bind:class=\"earningsTime === 720 ? 'current' : ''\"\r\n            >\r\n              Earning ~{{ Math.round(stakerEarningRateX1k * 720) / 1000 }}\r\n              SVC / month\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a\r\n              class=\"dropdown-item\"\r\n              @click=\"earningsTime = 8760\"\r\n              v-bind:class=\"earningsTime === 8760 ? 'current' : ''\"\r\n            >\r\n              Earning ~{{ Math.round(stakerEarningRateX1k * 8760) / 1000 }}\r\n              SVC / year\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"settings-menu\">\r\n        <button\r\n          class=\"btn btn-primary\"\r\n          @click=\"harvest\"\r\n          :disabled=\"paused || womToHarvest == 0\"\r\n          style=\"font-size: 14px\"\r\n        >\r\n          Harvest\r\n          {{ Math.round(stakersPayoutPct * womToHarvest * 10) / 1000 }} SVC\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { ethers } from \"ethers\";\r\nimport Reaper from \"../../artifacts/contracts/Reaperville.sol/Reaperville.json\";\r\nimport RewardToken from \"../../artifacts/contracts/RewardToken.sol/RewardToken.json\";\r\n\r\n// let RewardTokenAddress = window.RewardTokenAddress;\r\n\r\nexport default {\r\n  name: \"App\",\r\n  data() {\r\n    return {\r\n      rewardTokenContract: null,\r\n\r\n      nftContract: null,\r\n      stakingContract: null,\r\n\r\n      provider: null,\r\n      signer: null,\r\n\r\n      womEmissionPerHour: null,\r\n\r\n      stakersAddress: null,\r\n      stakerStakedForSeconds: null,\r\n      SECONDS_PER_DAY: 60, // TODO\r\n      stakersPayoutPct: null,\r\n      stakersNextPayoutPct: null,\r\n      stakerNextPayoutPctInSeconds: null,\r\n\r\n      stakersPower: null,\r\n      totalStakedPower: null,\r\n      baseStakingPower: null,\r\n      stakerEarningRateX1k: null,\r\n\r\n      earningsTime: 168,\r\n      hoursInWords: {\r\n        1: \"hour\",\r\n        24: \"day\",\r\n        168: \"week\",\r\n        720: \"month\",\r\n        8760: \"year\",\r\n      },\r\n\r\n      womToHarvest: null,\r\n      paused: true,\r\n      stakersRewardTokenBalance: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    harvest: async function () {\r\n      let tx = await this.stakingContract.harvest();\r\n      await tx.wait();\r\n      this.load();\r\n    },\r\n    approve: async function () {\r\n      let tx = await this.nftContract.setApprovalForAll(\r\n        window.ReaperAddress,\r\n        true\r\n      );\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n\r\n    loadStakerInfo: function () {\r\n      this.stakingContract\r\n        .showStakerInfo(this.stakersAddress)\r\n        .then((stakerInfo) => {\r\n          let stakedForSeconds = stakerInfo[0];\r\n          this.stakerStakedForSeconds = stakedForSeconds;\r\n          if (stakedForSeconds > 30 * this.SECONDS_PER_DAY) {\r\n            this.stakersPayoutPct = 115; // 15% bonus\r\n            this.stakersNextPayoutPct = 115;\r\n            this.stakerNextPayoutPctInSeconds = 0;\r\n          } else if (stakedForSeconds < 19 * this.SECONDS_PER_DAY) {\r\n            let stakedForDays = Math.floor(\r\n              stakedForSeconds / this.SECONDS_PER_DAY\r\n            );\r\n            this.stakersPayoutPct = (stakedForDays + 1) * 5;\r\n            this.stakersNextPayoutPct = this.stakersPayoutPct + 5;\r\n            this.stakerNextPayoutPctInSeconds =\r\n              (stakedForDays + 1) * this.SECONDS_PER_DAY - stakedForSeconds;\r\n          } else {\r\n            this.stakersPayoutPct = 100;\r\n            this.stakersNextPayoutPct = 115;\r\n            this.stakerNextPayoutPctInSeconds =\r\n              30 * this.SECONDS_PER_DAY - stakedForSeconds;\r\n          }\r\n\r\n          this.stakersPower = stakerInfo[1];\r\n          this.totalStakedPower = stakerInfo[2];\r\n          this.baseStakingPower = stakerInfo[3];\r\n          this.womEmissionPerHour =\r\n            Math.round(ethers.utils.formatEther(stakerInfo[4]) * 100000) /\r\n            100000;\r\n          this.stakerEarningRateX1k =\r\n            ((this.womEmissionPerHour * this.stakersPower) /\r\n              (this.totalStakedPower - this.baseStakingPower)) *\r\n            1000;\r\n        });\r\n      this.womToHarvest = 0;\r\n      this.stakingContract\r\n        .showStakersEarningsUntilLastTimestamp(this.stakersAddress)\r\n        .then((amount) => {\r\n          this.womToHarvest +=\r\n            Math.round(ethers.utils.formatEther(amount) * 100000) / 100000;\r\n        });\r\n      this.stakingContract\r\n        .showStakersEarningsAfterLastTimestamp(this.stakersAddress)\r\n        .then((earnings) => {\r\n          this.womToHarvest +=\r\n            Math.round(ethers.utils.formatEther(earnings) * 100000) / 100000;\r\n        });\r\n      this.stakingContract.isPaused().then((pause) => {\r\n        this.paused = pause;\r\n      });\r\n    },\r\n\r\n    formatSeconds: function (seconds) {\r\n      seconds = Number(seconds);\r\n      var d = Math.floor(seconds / (3600 * 24));\r\n      var h = Math.floor((seconds % (3600 * 24)) / 3600);\r\n      var m = Math.floor((seconds % 3600) / 60);\r\n      var s = Math.floor(seconds % 60);\r\n\r\n      var dDisplay = d > 0 ? d + \" d, \" : \"\";\r\n      var hDisplay = h > 0 ? h + \" h, \" : \"\";\r\n      var mDisplay = m > 0 ? m + \" min, \" : \"\";\r\n      var sDisplay = s > 0 ? s + \" sec\" : \"\";\r\n      return dDisplay + hDisplay + mDisplay + sDisplay;\r\n    },\r\n\r\n    loadRewardTokenBalance: function () {\r\n      console.log(this.stakersAddress);\r\n      this.rewardTokenContract\r\n        .balanceOf(this.stakersAddress)\r\n        .then((balance) => {\r\n          this.stakersRewardTokenBalance =\r\n            Math.round(ethers.utils.formatEther(balance) * 100000) / 100000;\r\n        });\r\n    },\r\n\r\n    load: function () {\r\n      this.signer.getAddress().then((userAddress) => {\r\n        this.stakersAddress = userAddress;\r\n        this.loadStakerInfo();\r\n        this.loadRewardTokenBalance();\r\n      });\r\n    },\r\n  },\r\n  mounted: function () {\r\n    this.provider = new ethers.providers.Web3Provider(window.ethereum, \"any\");\r\n    this.provider\r\n      .send(\"eth_requestAccounts\", [])\r\n      .then(() => {\r\n        this.signer = this.provider.getSigner();\r\n        let _womContract = new ethers.Contract(\r\n          window.RewardTokenAddress,\r\n          RewardToken.abi,\r\n          this.provider.getSigner()\r\n        );\r\n        let _stakingContract = new ethers.Contract(\r\n          window.ReaperAddress,\r\n          Reaper.abi,\r\n          this.provider.getSigner()\r\n        );\r\n\r\n        this.rewardTokenContract = _womContract;\r\n        this.stakingContract = _stakingContract;\r\n      })\r\n      .then(() => {\r\n        this.load();\r\n      });\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  margin-top: 60px;\r\n}\r\n</style>\r\n","import { render } from \"./NftTop.vue?vue&type=template&id=d52f2d56\"\nimport script from \"./NftTop.vue?vue&type=script&lang=js\"\nexport * from \"./NftTop.vue?vue&type=script&lang=js\"\n\nimport \"./NftTop.vue?vue&type=style&index=0&id=d52f2d56&lang=css\"\n\nimport exportComponent from \"/home/martin/Documents/coding/reaperville-staking/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Reaper.vue?vue&type=template&id=6dd579bd\"\nimport script from \"./Reaper.vue?vue&type=script&lang=js\"\nexport * from \"./Reaper.vue?vue&type=script&lang=js\"\n\nimport \"./Reaper.vue?vue&type=style&index=0&id=6dd579bd&lang=css\"\n\nimport exportComponent from \"/home/martin/Documents/coding/reaperville-staking/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport '../public/css/style.css'\r\nimport Admin from \"@/components/Admin\";\r\nimport NftMint from \"@/components/NftMint\";\r\nimport {createRouter, createWebHistory} from \"vue-router\";\r\nimport Reaper from \"@/components/Reaper\";\r\n\r\n\r\n\r\nexport let app = createApp(App);\r\n\r\nconst routes = [\r\n    { path: '/reaper', component: Reaper },\r\n    { path: '/admin', component: Admin },\r\n    { path: '/nftMint', component: NftMint },\r\n    { path: '/', component: Reaper },\r\n];\r\n\r\nconst router = createRouter({\r\n    history: createWebHistory(),\r\n    routes,\r\n})\r\n\r\napp.use(router);\r\n\r\napp.mount('#app')\r\n","export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Reaper.vue?vue&type=style&index=0&id=6dd579bd&lang=css\""],"sourceRoot":""}